(globalThis["webpackChunkopen_block_explorer"]=globalThis["webpackChunkopen_block_explorer"]||[]).push([[827],{28038:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>cr});var n=a(59835);const o={class:"row col-12"},l={class:"column col-12 header-support"},s={class:"row"};function i(e,t,a,i,c,u){const r=(0,n.up)("AccountCard"),d=(0,n.up)("q-tab"),m=(0,n.up)("q-tabs"),v=(0,n.up)("TransactionsTable"),p=(0,n.up)("q-tab-panel"),g=(0,n.up)("ContractTabs"),w=(0,n.up)("TokensPanel"),h=(0,n.up)("KeysPanel"),f=(0,n.up)("BpVotes"),b=(0,n.up)("ChildrenPanel"),y=(0,n.up)("q-tab-panels");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",l,[(0,n._)("div",s,[(0,n.Wm)(r,{class:"account-card",account:e.account,tokens:e.tokenList},null,8,["account","tokens"])]),(0,n.Wm)(m,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"account-view tabs","no-caps":""},{default:(0,n.w5)((()=>[e.accountPageSettings.hideTransactionTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:0,name:"transactions",label:"Transactions"})),!e.accountPageSettings.hideContractsTab&&e.abi?((0,n.wg)(),(0,n.j4)(d,{key:1,name:"contract",label:"Contract"})):(0,n.kq)("",!0),e.accountPageSettings.hideTokensTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:2,name:"tokens",label:"Tokens"})),e.accountPageSettings.hideKeysTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:3,name:"keys",label:"Keys"})),(0,n.Wm)(d,{name:"votes",label:"Votes"}),e.accountPageSettings.hideChildrenTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:4,name:"children",label:"Children"}))])),_:1},8,["modelValue"])]),(0,n.Wm)(y,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"col-12"},{default:(0,n.w5)((()=>[e.accountPageSettings.hideTransactionTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(p,{key:0,name:"transactions"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{account:e.account,showTransferLabel:!0,"show-pagination-extras":!0},null,8,["account"])])),_:1})),!e.accountPageSettings.hideContractsTab&&e.abi?((0,n.wg)(),(0,n.j4)(p,{key:1,name:"contract"},{default:(0,n.w5)((()=>[(0,n.Wm)(g)])),_:1})):(0,n.kq)("",!0),e.accountPageSettings.hideTokensTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(p,{key:2,name:"tokens"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{account:e.account},null,8,["account"])])),_:1})),e.accountPageSettings.hideKeysTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(p,{key:3,name:"keys"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{account:e.account},null,8,["account"])])),_:1})),(0,n.Wm)(p,{name:"votes"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{account:e.account},null,8,["account"])])),_:1}),e.accountPageSettings.hideChildrenTab?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(p,{key:4,name:"children"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{account:e.account},null,8,["account"])])),_:1}))])),_:1},8,["modelValue"])])}var c=a(60499),u=a(59311),r=a(86970);const d=e=>((0,n.dD)("data-v-09a9d996"),e=e(),(0,n.Cn)(),e),m={class:"row col-12 q-my-xs justify-center text-left container-max-width"},v={class:"row col-11"},p={class:"row col-12 q-mt-lg"},g=d((()=>(0,n._)("div",null,[(0,n._)("p",{class:"panel-title"},"Tokens")],-1))),w={class:"col-12 q-mt-md tokens-container"},h={key:0},f=["src"],b=["innerHTML"],y={class:"text-bold"};function _(e,t,a,o,l,s){const i=(0,n.up)("q-space"),c=(0,n.up)("q-separator"),u=(0,n.up)("q-avatar"),d=(0,n.up)("q-item-section"),_=(0,n.up)("q-item"),k=(0,n.up)("q-card");return(0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",v,[(0,n._)("div",p,[g,(0,n.Wm)(i)]),(0,n.Wm)(c,{class:"row col-12 q-mt-md separator"}),(0,n._)("div",w,[0===e.tokens.length?((0,n.wg)(),(0,n.iD)("div",h,"No tokens found")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tokens,(e=>((0,n.wg)(),(0,n.j4)(k,{key:`${e.contract}-${e.symbol}`,class:"token-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"items-center",avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"shadow-3",color:"white",size:"2.8rem"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{size:"1.2em"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:e.logo},null,8,f)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n._)("div",{innerHTML:e.contract},null,8,b),(0,n._)("div",y,(0,r.zw)(`${e.amount} ${e.symbol}`),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])])])}var k=a(21889),x=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const T=(0,n.aZ)({name:"TokensPanel",props:{account:{type:String,required:!1,default:null}},setup(e){const t=(0,c.iH)([]),a=(0,c.Vh)(e,"account"),o=e=>{const t=window.location.search,a=new URLSearchParams(t);return a.has(e)?a.get(e).split(","):[]},l=()=>x(this,void 0,void 0,(function*(){const e=yield k.h.getTokens(a.value),n=o("code"),l=o("symbol");let i=e.filter((e=>0===n.length||n.some((t=>t===e.contract)))).filter((e=>0===l.length||l.some((t=>t===e.symbol))));t.value=i.map((e=>Object.assign(Object.assign({},e),{contract:s(e.contract,"account")}))),t.value=t.value.filter((e=>null!==e.amount))})),s=(e,t)=>`<a href="/${t}/${e}" class="hover-dec">${e}</a>`;return(0,n.bv)((()=>x(this,void 0,void 0,(function*(){yield l()})))),{tokens:t,formatAccount:s,loadTokens:l}}});var q=a(11639),S=a(90136),I=a(50926),D=a(44458),C=a(490),A=a(76749),W=a(61357),V=a(69984),Z=a.n(V);const N=(0,q.Z)(T,[["render",_],["__scopeId","data-v-09a9d996"]]),z=N;Z()(T,"components",{QSpace:S.Z,QSeparator:I.Z,QCard:D.Z,QItem:C.Z,QItemSection:A.Z,QAvatar:W.Z});const M=e=>((0,n.dD)("data-v-24ab2455"),e=e(),(0,n.Cn)(),e),F={class:"row col-12 q-my-xs justify-center text-left container-max-width"},H={class:"row col-11"},R={class:"row col-12 q-mt-lg"},U=M((()=>(0,n._)("div",null,[(0,n._)("p",{class:"panel-title"},"Keys and Permissions")],-1))),Q={class:"permissions-container col-12 q-py-lg"};function j(e,t,a,o,l,s){const i=(0,n.up)("q-space"),c=(0,n.up)("q-separator"),u=(0,n.up)("PermissionCard");return(0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("div",H,[(0,n._)("div",R,[U,(0,n.Wm)(i)]),(0,n.Wm)(c,{class:"row col-12 q-mt-md separator"}),(0,n._)("div",Q,[e.permission?((0,n.wg)(),(0,n.j4)(u,{key:0,class:"permissions",permission:e.permission,depth:0},null,8,["permission"])):(0,n.kq)("",!0)])])])}const L={key:0},E={class:"text-bold"},P=["innerHTML"],B={key:0};function O(e,t,a,o,l,s){const i=(0,n.up)("q-card-section"),c=(0,n.up)("KeyToggle"),u=(0,n.up)("q-card"),d=(0,n.up)("permission-card",!0);return e.permissionLocal?((0,n.wg)(),(0,n.iD)("div",L,[(0,n._)("div",{class:(0,r.C_)(["children row",e.permissionCardClass])},[(0,n._)("div",{class:(0,r.C_)(["branch column",""+(e.depth>0?"":"borderless")])},[(0,n._)("div",{class:(0,r.C_)(["col",e.branchTopClass])},null,2),(0,n._)("div",{class:(0,r.C_)(["col",e.branchBottomClass])},null,2)],2),(0,n.Wm)(u,{class:"permission-card col q-mt-md",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{horizontal:""},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{class:"permission-name-section row items-center justify-center"},{default:(0,n.w5)((()=>[(0,n._)("div",E,(0,r.zw)(`${e.permissionLocal.perm_name} (${e.permissionLocal.required_auth.threshold})`),1)])),_:1}),(0,n.Wm)(i,{class:"permission-key-section"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.permissionLocal.required_auth.keys,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.key.toString()},[(0,n.Wm)(c,{weight:e.weight,pubkey:e.key},null,8,["weight","pubkey"])])))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.permissionLocal.required_auth.accounts,(t=>{var a;return(0,n.wg)(),(0,n.iD)("div",{key:`${t.permission.actor}-${t.permission.permission}`},[(0,n._)("div",null,[(0,n._)("span",null,(0,r.zw)(`+${t.weight}     `),1),(0,n._)("span",{class:"text-bold",innerHTML:e.formatAccount(null===(a=t.permission.actor)||void 0===a?void 0:a.toString(),"account")},null,8,P),(0,n._)("span",null," @"+(0,r.zw)(t.permission.permission),1)])])})),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.permissionLocal.required_auth.waits,(t=>((0,n.wg)(),(0,n.iD)("div",{key:`${t.wait_sec}-${t.weight}`},[(0,n._)("div",null,[(0,n._)("span",null,(0,r.zw)(`+${t.weight}     `),1),(0,n._)("span",null,(0,r.zw)(e.formatWait(t.wait_sec.value)),1)])])))),128))])),_:1}),e.permissionLocal.permission_links.length>0?((0,n.wg)(),(0,n.j4)(i,{key:0,class:"permission-action-section"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.permissionLocal.permission_links,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.action},(0,r.zw)(e.code)+"::"+(0,r.zw)(e.action),1)))),128))])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1})],2),e.permission.children&&e.permission.children.length?((0,n.wg)(),(0,n.iD)("div",B,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.permissionLocal.children,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:t.perm_name.toString()},[(0,n.Wm)(d,{class:"permission-card-wrapper",permission:t,depth:e.depth+1,isLast:a==e.permissionLocal.children.length-1},null,8,["permission","depth","isLast"])])))),128))])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)}const $={class:"row q-pb-md"},Y={class:"col wrap"},G=["href"],K=(0,n.Uk)(" ");function J(e,t,a,o,l,s){const i=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",$,[(0,n._)("div",Y,[(0,n._)("a",{class:"hover-dec",href:"/key/"+e.keyDisplay},(0,r.zw)(`+${e.weight}     ${e.keyDisplay}`),9,G),(0,n.Wm)(i,{class:"rotate-315",flat:"",round:"",color:"black",icon:"vpn_key",size:"xs",onClick:t[0]||(t[0]=t=>e.toggleKey())},{default:(0,n.w5)((()=>[K])),_:1}),(0,n.Wm)(i,{flat:"",round:"",color:"black",icon:"content_copy",size:"xs",onClick:t[1]||(t[1]=t=>e.copy(e.keyDisplay))})])])}var X=a(19302),ee=a(65054),te=a(61753);const ae=(0,n.aZ)({name:"KeyToggle",props:{pubkey:{type:te.PublicKey,required:!0},weight:{type:te.Weight,required:!0}},setup(e){const t=(0,c.iH)(e.pubkey),a=(0,c.iH)(!1),o=(0,X.Z)(),l=(0,n.Fl)((()=>a.value?t.value.toLegacyString():t.value.toString()));function s(e){(0,ee.Z)(e).then((()=>{o.notify({color:"green-4",textColor:"white",message:"Copied to clipboard",timeout:1e3})})).catch((()=>{o.notify({color:"red-8",textColor:"white",message:"Could not copy",timeout:1e3})}))}function i(){a.value=!a.value}return{keyDisplay:l,copy:s,toggleKey:i}}});var ne=a(68879);const oe=(0,q.Z)(ae,[["render",J],["__scopeId","data-v-48846258"]]),le=oe;Z()(ae,"components",{QBtn:ne.Z});var se=a(43878),ie=a.n(se);const ce=(0,n.aZ)({name:"PermissionCard",components:{KeyToggle:le},props:{permission:{type:Object,required:!0},depth:{type:Number,default:0},isLast:{type:Boolean,default:!1}},setup(e){const{depth:t,isLast:a}=(0,c.BK)(e),o=(0,n.Fl)((()=>a.value?"branch-corner":"branch-side-top")),l=(0,n.Fl)((()=>a.value?"":"branch-side")),s=(0,n.Fl)((()=>0===t.value?"owner-permission":"")),i=(0,n.Fl)((()=>{const{permission:t}=(0,c.BK)(e);return t.value})),u=(e,t)=>`<a href="/${t}/${e}" class="hover-dec">${e}</a>`,r=e=>ie().duration(e,"seconds").humanize()+" wait";return{branchTopClass:o,branchBottomClass:l,permissionCardClass:s,formatAccount:u,formatWait:r,permissionLocal:i}}});var ue=a(63190);const re=(0,q.Z)(ce,[["render",O],["__scopeId","data-v-a39da8b8"]]),de=re;Z()(ce,"components",{QCard:D.Z,QCardSection:ue.Z});var me=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const ve=(0,n.aZ)({name:"KeysPanel",components:{PermissionCard:de},props:{account:{type:String,required:!1,default:null}},setup(e){const t=(0,n.Fl)((()=>e.account)),a=(0,c.iH)(null),o=(0,X.Z)(),l=()=>me(this,void 0,void 0,(function*(){let e;try{e=yield k.h.getAccount(t.value)}catch(i){return void o.notify(`Keys for account ${t.value} not found!`)}const n=e.permissions;let l;try{l=yield k.h.getPermissionLinks(t.value)}catch(i){return void o.notify(`Permission links for account ${t.value} not found!`)}for(let t of n)t["permission_links"]=l.filter((e=>e.permission===t.perm_name.toString()));a.value=s(n)})),s=e=>{let t;t=e.find((e=>"owner"===e.perm_name.toString()));let a=e.filter((e=>"owner"!==e.perm_name.toString()));const n=(e,t)=>{let a=t.filter((t=>t.parent.toString()===e.perm_name.toString()));for(let o of a)o.children=n(o,t);return a};return t.children=n(t,a),t};return(0,n.bv)((()=>{l()})),{permission:a}}}),pe=(0,q.Z)(ve,[["render",j],["__scopeId","data-v-24ab2455"]]),ge=pe;Z()(ve,"components",{QSpace:S.Z,QSeparator:I.Z});const we=e=>((0,n.dD)("data-v-bb419418"),e=e(),(0,n.Cn)(),e),he={class:"row col-12 q-mt-lg q-mb-xs q-px-xl justify-center text-left container-max-width"},fe=we((()=>(0,n._)("p",{class:"panel-title"},"Children",-1))),be={class:"col-12 q-py-lg row"},ye={key:0},_e=["innerHTML"];function ke(e,t,a,o,l,s){const i=(0,n.up)("q-space"),c=(0,n.up)("q-separator");return(0,n.wg)(),(0,n.iD)("div",he,[fe,(0,n.Wm)(i),(0,n.Wm)(c,{class:"row col-12 q-mt-md separator"}),(0,n._)("div",be,[0==e.children.length?((0,n.wg)(),(0,n.iD)("div",ye,"No children found")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.children,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"child",innerHTML:e},null,8,_e)))),128))])])}var xe=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Te=(0,n.aZ)({name:"ChildrenPanel",components:{},props:{account:{type:String,required:!1,default:null}},setup(e){const t=(0,X.Z)(),a=(0,c.iH)([]),o=()=>xe(this,void 0,void 0,(function*(){let n;try{n=yield k.h.getChildren(e.account)}catch(o){return void t.notify(`Keys for account ${e.account} not found!`)}a.value=n.map((e=>l(e.act.data.newact,"account")))})),l=(e,t)=>`<a href="/${t}/${e}" class="hover-dec">${e}</a>`;return(0,n.bv)((()=>xe(this,void 0,void 0,(function*(){yield o()})))),{children:a,loadAccountData:o}}}),qe=(0,q.Z)(Te,[["render",ke],["__scopeId","data-v-bb419418"]]),Se=qe;Z()(Te,"components",{QSpace:S.Z,QSeparator:I.Z});const Ie=e=>((0,n.dD)("data-v-cc1b473a"),e=e(),(0,n.Cn)(),e),De={class:"q-pa-md"},Ce={class:"inline-section"},Ae={class:"row justify-center full-height items-center"},We={key:0,class:"col-6"},Ve={class:"text-title"},Ze={key:1,class:"col-2"},Ne={class:"text-title"},ze={class:"col-1"},Me={key:0,class:"text-subtitle"},Fe=(0,n.Uk)(" created by "),He=(0,n.Uk)(" "),Re=(0,n.Uk)(" "),Ue=(0,n.Uk)(" "),Qe={key:1,class:"text-subtitle"},je=(0,n.Uk)("created"),Le=Ie((()=>(0,n._)("span",null," ",-1))),Ee=(0,n.Uk)(" "),Pe={key:0,class:"resources"},Be={key:1,class:"resources"},Oe={class:"usage"},$e={class:"row justify-center q-gutter-sm"},Ye={key:0,class:"col-3"},Ge={key:1,class:"col-3"},Ke={key:2,class:"col-3"},Je={key:0},Xe={class:"inline-section"},et={class:"row justify-center full-height items-center"},tt=Ie((()=>(0,n._)("div",{class:"col-8"},null,-1))),at={class:"text-title text-center"};function nt(e,t,a,o,l,s){const i=(0,n.up)("q-btn"),c=(0,n.up)("DateField"),u=(0,n.up)("q-tooltip"),d=(0,n.up)("q-icon"),m=(0,n.up)("q-space"),v=(0,n.up)("PercentCircle"),p=(0,n.up)("q-card-section"),g=(0,n.up)("SendDialog"),w=(0,n.up)("ResourcesDialog"),h=(0,n.up)("StakingDialog"),f=(0,n.up)("q-card");return(0,n.wg)(),(0,n.iD)("div",De,[e.accountExists?((0,n.wg)(),(0,n.j4)(f,{key:0,class:"account-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"resources-container"},{default:(0,n.w5)((()=>[(0,n._)("div",Ce,[(0,n._)("div",Ae,[e.account!==e.system_account?((0,n.wg)(),(0,n.iD)("div",We,[(0,n._)("div",Ve,(0,r.zw)(e.account),1)])):((0,n.wg)(),(0,n.iD)("div",Ze,[(0,n._)("div",Ne,(0,r.zw)(e.account),1)])),(0,n._)("div",ze,[(0,n.Wm)(i,{class:"float-right",flat:"",round:"",color:"white",icon:"content_copy",size:"sm",onClick:t[0]||(t[0]=t=>e.copy(e.account))})])]),e.creatingAccount&&"__self__"!==e.creatingAccount?((0,n.wg)(),(0,n.iD)("div",Me,[Fe,(0,n._)("span",null,[He,(0,n._)("a",{onClick:t[1]||(t[1]=(...t)=>e.loadCreatorAccount&&e.loadCreatorAccount(...t))},(0,r.zw)(e.creatingAccount),1),Re]),(0,n._)("div",null,[(0,n.Wm)(c,{timestamp:e.createTime,showAge:""},{default:(0,n.w5)((()=>[Ue])),_:1},8,["timestamp"]),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e.createTimeFormat),1)])),_:1})]),(0,n._)("a",{class:"q-ml-xs tx-link",onClick:t[2]||(t[2]=(...t)=>e.loadCreatorTransaction&&e.loadCreatorTransaction(...t))},[(0,n.Wm)(d,{name:"fas fa-link"})])])):((0,n.wg)(),(0,n.iD)("div",Qe,[je,Le,(0,n._)("div",null,[(0,n.Wm)(c,{timestamp:e.createTime,showAge:""},{default:(0,n.w5)((()=>[Ee])),_:1},8,["timestamp"]),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e.createTimeFormat),1)])),_:1})])])),(0,n.Wm)(m)]),e.account!==e.system_account?((0,n.wg)(),(0,n.iD)("div",Pe,[e.accountPageSettings.hideCpuInfo?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(v,{key:0,radius:e.radius,fraction:e.cpu_used,total:e.cpu_max,label:"CPU",unit:"s"},null,8,["radius","fraction","total"])),e.accountPageSettings.hideNetInfo?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(v,{key:1,radius:e.radius,fraction:e.net_used,total:e.net_max,label:"NET",unit:e.netUnit},null,8,["radius","fraction","total","unit"])),e.accountPageSettings.hideRamInfo?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(v,{key:2,radius:e.radius,fraction:e.ram_used,total:e.ram_max,label:"RAM",unit:e.ramUnit},null,8,["radius","fraction","total","unit"]))])):e.accountPageSettings.hideRamInfo?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Be,[(0,n._)("div",Oe,"RAM USED: "+(0,r.zw)(e.ram_used)+" "+(0,r.zw)(e.ramUnit),1)]))])),_:1}),(0,n.Wm)(p,{class:"resources-container"},{default:(0,n.w5)((()=>[(0,n._)("div",$e,[e.isAccount?((0,n.wg)(),(0,n.iD)("div",Ye,[(0,n.Wm)(i,{disable:e.tokensLoading||e.isLoading,label:e.tokensLoading?"Loading...":"Send",color:"primary",class:"full-width",onClick:t[3]||(t[3]=t=>e.openSendDialog=!0)},null,8,["disable","label"])])):(0,n.kq)("",!0),e.isAccount&&!e.accountPageSettings.hideResourcesControl?((0,n.wg)(),(0,n.iD)("div",Ge,[(0,n.Wm)(i,{disable:e.tokensLoading||e.isLoading,label:e.tokensLoading?"Loading...":"Resources",class:"full-width",color:"primary",onClick:t[4]||(t[4]=t=>e.openResourcesDialog=!0)},null,8,["disable","label"])])):(0,n.kq)("",!0),e.isAccount&&!e.accountPageSettings.hideRexControl?((0,n.wg)(),(0,n.iD)("div",Ke,[(0,n.Wm)(i,{disable:e.tokensLoading||e.isLoading,label:e.tokensLoading?"Loading...":"Staking (REX)",class:"ellipsis full-width",color:"primary",onClick:t[5]||(t[5]=t=>e.openStakingDialog=!0)},null,8,["disable","label"])])):(0,n.kq)("",!0)])])),_:1}),e.isAccount?((0,n.wg)(),(0,n.iD)("div",Je,[e.openSendDialog?((0,n.wg)(),(0,n.j4)(g,{key:0,modelValue:e.openSendDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.openSendDialog=t),availableTokens:e.availableTokens,onUpdateTokenBalances:e.updateTokenBalances},null,8,["modelValue","availableTokens","onUpdateTokenBalances"])):(0,n.kq)("",!0),e.openResourcesDialog?((0,n.wg)(),(0,n.j4)(w,{key:1,modelValue:e.openResourcesDialog,"onUpdate:modelValue":t[7]||(t[7]=t=>e.openResourcesDialog=t)},null,8,["modelValue"])):(0,n.kq)("",!0),(0,n.Wm)(h,{modelValue:e.openStakingDialog,"onUpdate:modelValue":t[8]||(t[8]=t=>e.openStakingDialog=t),availableTokens:e.availableTokens},null,8,["modelValue","availableTokens"])])):(0,n.kq)("",!0)])),_:1})):((0,n.wg)(),(0,n.j4)(f,{key:1,class:"account-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"resources-container"},{default:(0,n.w5)((()=>[(0,n._)("div",Xe,[(0,n._)("div",et,[tt,(0,n._)("div",at,"Sorry, the account "+(0,r.zw)(e.account)+" could not be found.",1)])])])),_:1})])),_:1}))])}var ot=a(13385);const lt={class:"chart-container"},st=["viewBox"],it=["d"],ct=["stroke-dasharray","d","stroke"],ut=["y"],rt=["y"],dt={class:"text usage"},mt={class:"text usage"},vt={class:"text usage"};function pt(e,t,a,o,l,s){return(0,n.wg)(),(0,n.iD)("div",lt,[((0,n.wg)(),(0,n.iD)("svg",{class:"circular-chart",style:(0,r.j5)({"max-width":e.containerWidth}),viewBox:`${6*-e.offset} ${-e.offset/2} ${e.containerWidth} ${e.containerWidth}`},[(0,n._)("path",{class:"circle-bg",d:`M18 2 a ${e.radius} ${e.radius} 0 0 1 0 88 a ${e.radius} ${e.radius} 0 0 1 0 ${-e.diameter}`},null,8,it),(0,n._)("path",{class:"circle","stroke-dasharray":e.dashArray,d:`M18 2 a ${e.radius} ${e.radius} 0 0 1 0 88 a ${e.radius} ${e.radius} 0 0 1 0 ${-e.diameter}`,stroke:e.strokeColor,style:(0,r.j5)({"stroke-opacity":Number.isNaN(e.formatResourcePercent)?0:1,stroke:!Number.isNaN(e.formatResourcePercent)&&Number(e.formatResourcePercent)>80?"red":"white"})},null,12,ct),(0,n._)("text",{class:"text label",x:"18",y:e.radius-e.offset},(0,r.zw)(e.label),9,ut),(0,n._)("text",{class:"text percentage",x:"20",y:e.radius+12},(0,r.zw)(e.formatResourcePercent)+"%",9,rt)],12,st)),(0,n._)("p",dt,"USED: "+(0,r.zw)(e.fraction)+" "+(0,r.zw)(e.unit),1),(0,n._)("p",mt,"TOTAL: "+(0,r.zw)(e.total)+" "+(0,r.zw)(e.unit),1),(0,n._)("p",vt,"AVAILABLE: "+(0,r.zw)(e.available)+" "+(0,r.zw)(e.unit),1)])}const gt=3.1459,wt=(0,n.aZ)({name:"PercentCircle",props:{fraction:{type:Number,required:!0},total:{type:Number,required:!0},label:{type:String,default:""},radius:{type:Number,required:!0},unit:{type:String,default:""}},setup(e){const t=(0,c.iH)(5),{fraction:a,total:o,radius:l,unit:s}=(0,c.BK)(e),i=(0,n.Fl)((()=>2*l.value)),u=(0,n.Fl)((()=>2*gt*l.value)),r=(0,n.Fl)((()=>i.value+2*t.value)),d=(0,n.Fl)((()=>a.value&&o.value?(a.value/o.value*100).toFixed(2):"0")),m=(0,n.Fl)((()=>parseFloat(d.value)>=90?"red":"white")),v=(0,n.Fl)((()=>`${a.value}${s.value}/${o.value}${s.value}`)),p=(0,n.Fl)((()=>Math.abs(o.value-a.value).toFixed(3))),g=(0,n.Fl)((()=>{if(Number.isNaN(d.value))return"0";const e=parseFloat(d.value)/100*u.value;return`${e}, ${u.value}`}));return{offset:t,diameter:i,circumference:u,containerWidth:r,formatResourcePercent:d,strokeColor:m,fractionUnits:v,available:p,dashArray:g}}}),ht=(0,q.Z)(wt,[["render",pt],["__scopeId","data-v-5e52f638"]]),ft=ht;var bt=a(77122),yt=a.n(bt);const _t=e=>((0,n.dD)("data-v-1c0c7ffe"),e=e(),(0,n.Cn)(),e),kt={class:"row justify-center items-center full-height full-width"},xt={class:"absolute-top-right"},Tt={class:"col-xs-12 col-sm-8 col-md-7 col-lg-6 max-dialog-width"},qt={class:"row"},St=_t((()=>(0,n._)("img",{class:"send-img q-pr-md",src:yt()},null,-1))),It=_t((()=>(0,n._)("div",{class:"text-h4 q-pb-md inline-block color-grey-3"},"Send Tokens",-1))),Dt={key:0,class:"transaction-form text-grey-3 text-weight-light"},Ct={class:"row"},At={class:"col-12"},Wt=_t((()=>(0,n._)("div",{class:"row justify-between q-px-sm q-pb-sm q-gutter-x-sm"},"RECEIVING ACCOUNT",-1))),Vt={class:"row q-py-md"},Zt={class:"col-4"},Nt=_t((()=>(0,n._)("div",{class:"row justify-between q-px-sm q-pb-sm q-gutter-x-sm"},"TOKEN",-1))),zt={class:"col-8 text-subtitle-1 q-mx-sm subtitle"},Mt={class:"col-4"},Ft={class:"row justify-end items-center arrowButton"},Ht={class:"col-8 q-pl-md"},Rt={class:"row justify-between q-pb-sm q-gutter-x-sm"},Ut=_t((()=>(0,n._)("div",null,"AMOUNT",-1))),Qt={class:"color-grey-3 text-weight-bold balance-amount"},jt=(0,n.Uk)("Click to fill full amount"),Lt={class:"row"},Et={class:"col-12"},Pt=_t((()=>(0,n._)("div",{class:"row justify-between q-px-sm q-pb-sm q-gutter-x-sm"},"OPTIONAL MEMO",-1))),Bt={class:"row"},Ot={class:"row"},$t={class:"col-12 q-pt-md"},Yt=_t((()=>(0,n._)("div",{class:"row justify-between q-px-sm q-pb-lg q-gutter-x-sm"},"Your wallet must be open to allow authorization of this transaction.",-1))),Gt={key:1,class:"transaction-result"},Kt={class:"row"},Jt={class:"col-12"},Xt={class:"col-12"},ea=(0,n.Uk)(" Click to view transaction: "),ta={class:"row"},aa={class:"col-12"},na={class:"row"},oa={class:"row"},la={class:"col-12 flex justify-end"};function sa(e,t,a,o,l,s){const i=(0,n.up)("q-btn"),c=(0,n.up)("q-card-section"),u=(0,n.up)("q-separator"),d=(0,n.up)("q-input"),m=(0,n.up)("q-icon"),v=(0,n.up)("q-space"),p=(0,n.up)("q-tooltip"),g=(0,n.up)("CoinSelectorDialog"),w=(0,n.up)("q-card"),h=(0,n.up)("q-dialog"),f=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(h,{persistent:!0,maximized:"",onShow:e.setDefaults,onHide:e.resetForm},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"sendCard"},{default:(0,n.w5)((()=>[(0,n._)("div",kt,[(0,n._)("div",xt,[(0,n.wy)((0,n.Wm)(i,{size:"20px",flat:"",dense:"",round:"",icon:"clear"},null,512),[[f]])]),(0,n._)("div",Tt,[(0,n._)("div",qt,[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[St,It])),_:1})]),e.transactionForm?((0,n.wg)(),(0,n.iD)("div",Dt,[e.transactionForm?((0,n.wg)(),(0,n.j4)(u,{key:0,dark:""})):(0,n.kq)("",!0),e.transactionForm?((0,n.wg)(),(0,n.j4)(c,{key:1},{default:(0,n.w5)((()=>{var a,o,l;return[(0,n._)("div",Ct,[(0,n._)("div",At,[Wt,(0,n.Wm)(d,{modelValue:e.receivingAccount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.receivingAccount=t),class:"full-width",standout:"standout",dense:"",dark:"","lazy-rules":!0,rules:[t=>e.isValidAccount(t)||"Invalid account name."]},null,8,["modelValue","rules"])])]),(0,n._)("div",Vt,[(0,n._)("div",Zt,[Nt,(0,n._)("div",{class:"row items-center no-wrap selector-container q-py-sm",onClick:t[1]||(t[1]=t=>e.openCoinDialog=!0)},[(0,n._)("div",zt,(0,r.zw)(null===(a=e.sendToken)||void 0===a?void 0:a.symbol),1),(0,n._)("div",Mt,[(0,n._)("div",Ft,[(0,n.Wm)(m,{class:"fas fa-chevron-down q-pr-lg",size:"17px"})])])])]),(0,n._)("div",Ht,[(0,n._)("div",Rt,[Ut,(0,n.Wm)(v),(0,n._)("div",{class:"row flex-center q-hoverable cursor-pointer",onClick:t[2]||(t[2]=(...t)=>e.setMaxValue&&e.setMaxValue(...t))},[(0,n._)("div",Qt,(0,r.zw)(`${null!==(l=null===(o=e.sendToken)||void 0===o?void 0:o.amount)&&void 0!==l?l:0} AVAILABLE`),1),(0,n.Wm)(m,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[jt])),_:1})])]),(0,n.Wm)(d,{modelValue:e.sendAmount,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sendAmount=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0",debounce:1e3,rules:[t=>{var a;return t>0&&t<=(null===(a=e.sendToken)||void 0===a?void 0:a.amount)||"invalid amount"}],type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])])]),(0,n._)("div",Lt,[(0,n._)("div",Et,[Pt,(0,n._)("div",Bt,[(0,n.Wm)(d,{modelValue:e.memo,"onUpdate:modelValue":t[4]||(t[4]=t=>e.memo=t),class:"full-width send-input",standout:"bg-deep-purple-2 text-white",dark:"",type:"textarea"},null,8,["modelValue"])])])]),(0,n._)("div",Ot,[(0,n._)("div",$t,[Yt,(0,n.Wm)(i,{class:"full-width button-accent",label:"Confirm",flat:"",disabled:!e.validated,onClick:e.sendTransaction},null,8,["disabled","onClick"])])])]})),_:1})):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("div",Gt,[e.transactionId?((0,n.wg)(),(0,n.j4)(c,{key:0},{default:(0,n.w5)((()=>{var a;return[(0,n._)("div",Kt,[(0,n._)("div",Jt,[(0,n._)("div",null,"You successfully sent "+(0,r.zw)(e.sendAmount)+" "+(0,r.zw)(null===(a=e.sendToken)||void 0===a?void 0:a.symbol)+" to "+(0,r.zw)(e.receivingAccount)+".",1)]),(0,n._)("div",Xt,[ea,(0,n._)("a",{class:"ellipsis-overflow text-blue",onClick:t[5]||(t[5]=(...t)=>e.navToTransaction&&e.navToTransaction(...t))},(0,r.zw)(e.transactionId),1)])])]})),_:1})):((0,n.wg)(),(0,n.j4)(c,{key:1},{default:(0,n.w5)((()=>[(0,n._)("div",ta,[(0,n._)("div",aa,[(0,n._)("div",na,"Transaction Failed: "+(0,r.zw)(e.transactionError),1)])])])),_:1})),(0,n._)("div",oa,[(0,n._)("div",la,[(0,n.wy)((0,n.Wm)(i,{flat:"",class:"close-dialog",label:"Close",onClick:e.setDefaults},null,8,["onClick"]),[[f]])])])]))])]),(0,n.Wm)(g,{modelValue:e.openCoinDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.openCoinDialog=t),updateSelectedCoin:e.updateSelectedCoin,availableTokens:e.availableTokens},null,8,["modelValue","updateSelectedCoin","availableTokens"])])),_:1})])),_:1},8,["onShow","onHide"])}const ia=e=>((0,n.dD)("data-v-42e19c7f"),e=e(),(0,n.Cn)(),e),ca={class:"dialogHeader"},ua={class:"row justify-between items-center q-pt-sm-center"},ra=ia((()=>(0,n._)("div",{class:"text-h6 q-pl-md"},"Select a token",-1))),da={class:"q-pr-sm"},ma={class:"row"},va={class:"col-12 q-pa-sm"},pa=(0,n.Uk)("No tokens found");function ga(e,t,a,o,l,s){const i=(0,n.up)("q-btn"),c=(0,n.up)("q-input"),u=(0,n.up)("q-separator"),d=(0,n.up)("q-item-label"),m=(0,n.up)("q-item-section"),v=(0,n.up)("q-item"),p=(0,n.up)("q-list"),g=(0,n.up)("q-card"),w=(0,n.up)("q-dialog"),h=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(w,{class:"dialogContainer",onShow:e.filterTokens},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"dialogCard"},{default:(0,n.w5)((()=>[(0,n._)("div",ca,[(0,n._)("div",ua,[ra,(0,n._)("div",da,[(0,n.wy)((0,n.Wm)(i,{size:"12px",flat:"",dense:"",round:"",icon:"clear"},null,512),[[h]])])]),(0,n._)("div",ma,[(0,n._)("div",va,[(0,n.Wm)(c,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),debounce:"500",outlined:"",dark:"",round:"round",placeholder:"Search contract name or symbol"},null,8,["modelValue"])])])]),(0,n.Wm)(u),(0,n.Wm)(p,{class:"dialogList"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.filteredTokens,(t=>(0,n.wy)(((0,n.wg)(),(0,n.j4)(v,{key:`${t.contract}-${t.symbol}`,clickable:"",onClick:a=>{e.updateSelectedCoin(t)}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.symbol),1)])),_:2},1024),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.contract),1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.amount),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[h]]))),128)),0==e.availableTokens.length?((0,n.wg)(),(0,n.j4)(v,{key:0},{default:(0,n.w5)((()=>[pa])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["onShow"])}const wa=(0,n.aZ)({name:"CoinSelectorDialog",props:{availableTokens:{required:!0,type:Array},updateSelectedCoin:{type:Function,required:!0}},setup(e){const t=(0,c.iH)(""),a=(0,c.iH)([]),o=()=>{t.value.length>0?l(s()):a.value=s()},l=e=>{a.value=e.filter((e=>e.symbol.toLowerCase().includes(t.value.toLowerCase())||e.contract.toLowerCase().includes(t.value.toLowerCase())))},s=()=>e.availableTokens.filter((e=>e.amount>0));return(0,n.YP)(t,(()=>{o()})),{search:t,filteredTokens:a,filterTokens:o,filterByText:l}}});var ha=a(87743),fa=a(13119),ba=a(13246),ya=a(33115),_a=a(62146);const ka=(0,q.Z)(wa,[["render",ga],["__scopeId","data-v-42e19c7f"]]),xa=ka;Z()(wa,"components",{QDialog:ha.Z,QCard:D.Z,QBtn:ne.Z,QInput:fa.Z,QSeparator:I.Z,QList:ba.Z,QItem:C.Z,QItemSection:A.Z,QItemLabel:ya.Z}),Z()(wa,"directives",{ClosePopup:_a.Z});var Ta=a(90347),qa=a(30229),Sa=a(78504),Ia=a(18910),Da=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Ca=(0,qa.z)(),Aa=(0,n.aZ)({name:"SendDialog",components:{CoinSelectorDialog:xa},props:{availableTokens:{type:Array,required:!0}},emits:["update-token-balances"],setup(e,t){const a=(0,Sa.useStore)(),o=(0,Ia.tv)(),l=(0,c.iH)(Ca.getSystemToken()),s=(0,c.Vh)(e,"availableTokens"),i=(0,c.iH)(!1),u=(0,c.iH)(!1),r=(0,c.iH)(""),d=(0,c.iH)(""),m=(0,c.iH)(""),v=(0,n.Fl)((()=>a.state.account.accountName)),p=(0,n.Fl)((()=>a.state.account.TransactionId)),g=(0,n.Fl)((()=>a.state.account.TransactionError)),w=(0,n.Fl)((()=>!(g.value||p.value))),h=(0,n.Fl)((()=>parseFloat(d.value)>0&&r.value.length>0)),f=()=>Da(this,void 0,void 0,(function*(){var e,n;a.dispatch("account/resetTransaction");const o=null===(e=l.value)||void 0===e?void 0:e.contract,s={from:v.value,to:r.value,quantity:`${d.value} ${null===(n=l.value)||void 0===n?void 0:n.symbol}`,memo:m.value};yield a.dispatch("account/sendAction",{account:o,data:s,name:"transfer"}),a.dispatch("account/loadAccountData"),t.emit("update-token-balances")})),b=()=>{a.dispatch("account/resetTransaction"),s.value.length>0&&(l.value=s.value.find((e=>{var t,a;return e.symbol===(null===(t=l.value)||void 0===t?void 0:t.symbol)&&e.contract===(null===(a=l.value)||void 0===a?void 0:a.contract)})))},y=e=>{l.value=e},_=()=>{l.value={symbol:Ca.getSystemToken().symbol,precision:4,amount:0,contract:"eosio.token"}},k=()=>Da(this,void 0,void 0,(function*(){yield o.push({name:"transaction",params:{transaction:p.value}}),o.go(0),a.dispatch("account/resetTransaction")})),x=()=>{let e=Number(d.value);""!==d.value&&(d.value=e.toLocaleString("en-US",{style:"decimal",maximumFractionDigits:l.value.precision,minimumFractionDigits:l.value.precision}).replace(/,/g,"")),d.value=d.value.replace(/[^0-9.]/g,"")},T=()=>{d.value=l.value.amount.toString(),x()};return{sendToken:l,transactionId:p,transactionError:g,sendDialog:i,openCoinDialog:u,receivingAccount:r,sendAmount:d,memo:m,transactionForm:w,account:v,validated:h,setDefaults:b,updateSelectedCoin:y,setMaxValue:T,navToTransaction:k,sendTransaction:f,isValidAccount:Ta.Kf,formatDec:x,resetForm:_}},watch:{availableTokens:{handler(){this.availableTokens.length>0&&(this.sendToken=this.availableTokens.find((e=>e.symbol===this.sendToken.symbol&&e.contract===this.sendToken.contract))),this.sendToken&&0!==this.sendToken.amount||(this.openCoinDialog=!0)},deep:!0,immediate:!0}}});var Wa=a(22857),Va=a(46858);const Za=(0,q.Z)(Aa,[["render",sa],["__scopeId","data-v-1c0c7ffe"]]),Na=Za;Z()(Aa,"components",{QDialog:ha.Z,QCard:D.Z,QBtn:ne.Z,QCardSection:ue.Z,QSeparator:I.Z,QInput:fa.Z,QIcon:Wa.Z,QSpace:S.Z,QTooltip:Va.Z}),Z()(Aa,"directives",{ClosePopup:_a.Z});var za=a(48048),Ma=a.n(za);const Fa=e=>((0,n.dD)("data-v-4574639d"),e=e(),(0,n.Cn)(),e),Ha={class:"row justify-center q-pt-xl full-height full-width"},Ra={class:"absolute-top-right"},Ua={class:"col-xs-12 col-sm-10 col-md-7 col-lg-7 max-dialog-width"},Qa=Fa((()=>(0,n._)("div",{class:"row q-pl-sm"},[(0,n._)("img",{class:"send-img q-pr-md",src:Ma()}),(0,n._)("div",{class:"text-h4 q-pb-md inline-block color-grey-3 inline"},"Manage Resources")],-1))),ja={class:"q-pa-sm"},La={class:"q-pt-lg"};function Ea(e,t,a,o,l,s){const i=(0,n.up)("q-btn"),c=(0,n.up)("StakingInfo"),u=(0,n.up)("q-tab"),r=(0,n.up)("q-tabs"),d=(0,n.up)("q-separator"),m=(0,n.up)("StakingTab"),v=(0,n.up)("q-tab-panel"),p=(0,n.up)("UnstakingTab"),g=(0,n.up)("RefundTab"),w=(0,n.up)("BuyRam"),h=(0,n.up)("SellRam"),f=(0,n.up)("q-tab-panels"),b=(0,n.up)("q-card"),y=(0,n.up)("q-dialog"),_=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(y,{persistent:!0,maximized:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{class:"stakeCard"},{default:(0,n.w5)((()=>[(0,n._)("div",Ha,[(0,n._)("div",Ra,[(0,n.wy)((0,n.Wm)(i,{size:"20px",flat:"",dense:"",round:"",icon:"clear"},null,512),[[_]])]),(0,n._)("div",Ua,[Qa,(0,n._)("div",ja,[(0,n.Wm)(c),(0,n._)("div",La,[(0,n.Wm)(r,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"text-grey-5 tab-text text-grey",dense:"","indicator-color":"grey-3","active-color":"grey-3","narrow-indicator":"",align:"left",breakpoint:0,"no-caps":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"stake",label:"Add CPU/NET"}),(0,n.Wm)(u,{name:"unstake",label:"Remove CPU/NET"}),(0,n.Wm)(u,{name:"refund",label:"Refund CPU/NET"}),(0,n.Wm)(u,{name:"buyram",label:"Buy RAM"}),(0,n.Wm)(u,{name:"sellram",label:"Sell RAM"})])),_:1},8,["modelValue"]),(0,n.Wm)(d,{color:"grey-8"}),(0,n.Wm)(f,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"tab-panel"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{name:"stake"},{default:(0,n.w5)((()=>[(0,n.Wm)(m)])),_:1}),(0,n.Wm)(v,{name:"unstake"},{default:(0,n.w5)((()=>[(0,n.Wm)(p)])),_:1}),(0,n.Wm)(v,{name:"refund"},{default:(0,n.w5)((()=>[(0,n.Wm)(g)])),_:1}),(0,n.Wm)(v,{name:"buyram"},{default:(0,n.w5)((()=>[(0,n.Wm)(w)])),_:1}),(0,n.Wm)(v,{name:"sellram"},{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1})])),_:1},8,["modelValue"])])])])])])),_:1})])),_:1})}const Pa=e=>((0,n.dD)("data-v-08448fb5"),e=e(),(0,n.Cn)(),e),Ba={class:"container grey-3"},Oa={class:"row full-width"},$a={class:"row full-width q-pt-md q-px-lg"},Ya=Pa((()=>(0,n._)("div",{class:"col-6 text-h6 text-bold"},"AVAILABLE BALANCE",-1))),Ga={class:"col-6 text-h6 text-right text-bold"},Ka=Pa((()=>(0,n._)("div",{class:"row full-width q-py-md"},[(0,n._)("hr")],-1))),Ja={class:"row full-width q-pb-md"},Xa={class:"col-xs-12 col-sm-6 q-px-lg q-pb-sm"},en={class:"row"},tn=Pa((()=>(0,n._)("div",{class:"col-7 text-weight-light"},"CPU",-1))),an={class:"col-5 text-right text-bold"},nn={class:"row q-pt-sm"},on=Pa((()=>(0,n._)("div",{class:"col-7 text-weight-light"},"NET",-1))),ln={class:"col-5 text-right text-bold"},sn={class:"row q-pt-sm"},cn=Pa((()=>(0,n._)("div",{class:"col-7 text-weight-light"},"AVAILABLE RAM",-1))),un={class:"col-5 text-right text-bold"},rn={class:"col-xs-12 col-sm-6 q-px-lg q-pb-sm"},dn={class:"row"},mn=Pa((()=>(0,n._)("div",{class:"col-7 text-weight-light"},"DELEGATED BY OTHERS",-1))),vn={class:"col-5 text-right text-bold"},pn={class:"row q-pt-sm"},gn=Pa((()=>(0,n._)("div",{class:"col-7 text-weight-light"},"DELEGATED TO OTHERS",-1))),wn={class:"col-5 text-right text-bold"},hn={class:"row q-pt-sm"},fn=Pa((()=>(0,n._)("div",{class:"col-7 text-weight-light"},"REFUNDING",-1))),bn={class:"col-5 text-right text-bold"};function yn(e,t,a,o,l,s){return(0,n.wg)(),(0,n.iD)("div",Ba,[(0,n._)("div",Oa,[(0,n._)("div",$a,[Ya,(0,n._)("div",Ga,(0,r.zw)(e.formatValue(e.accountTotal)),1)]),Ka,(0,n._)("div",Ja,[(0,n._)("div",Xa,[(0,n._)("div",en,[tn,(0,n._)("div",an,(0,r.zw)(e.formatValue(e.currentCpu)),1)]),(0,n._)("div",nn,[on,(0,n._)("div",ln,(0,r.zw)(e.formatValue(e.currentNet)),1)]),(0,n._)("div",sn,[cn,(0,n._)("div",un,(0,r.zw)(e.ramAvailable)+" Bytes",1)])]),(0,n._)("div",rn,[(0,n._)("div",dn,[mn,(0,n._)("div",vn,(0,r.zw)(e.formatValue(e.delegatedByOthers)),1)]),(0,n._)("div",pn,[gn,(0,n._)("div",wn,(0,r.zw)(e.formatValue(e.delegatedToOthers)),1)]),(0,n._)("div",hn,[fn,(0,n._)("div",bn,(0,r.zw)(e.formatValue(e.totalRefund)),1)])])])])])}const _n=(0,n.aZ)({name:"ResourcesInfo",setup(){const e=(0,Sa.useStore)(),t=(0,c.iH)(!1),a=(0,c.iH)(""),o=(0,c.iH)("0"),l=(0,c.iH)("0"),s=(0,c.iH)("0"),i=(0,c.iH)((0,qa.z)().getSystemToken()),u=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data})),r=(0,n.Fl)((()=>{var t;return"0"===(null===(t=e.state)||void 0===t?void 0:t.chain.ram_price)?"0":e.state.chain.ram_price})),d=(0,n.Fl)((()=>Number(u.value.ram_quota)-Number(u.value.ram_usage))),m=(0,n.Fl)((()=>{var e,t;const a=Number(u.value.cpu_weight.value)/Math.pow(10,i.value.precision)+Number(u.value.net_weight.value)/Math.pow(10,i.value.precision),n=Number((null===(e=u.value.self_delegated_bandwidth)||void 0===e?void 0:e.net_weight.value)?u.value.self_delegated_bandwidth.net_weight.value:"0")+Number((null===(t=u.value.self_delegated_bandwidth)||void 0===t?void 0:t.cpu_weight.value)?u.value.self_delegated_bandwidth.cpu_weight.value:"0");return a-n})),v=(0,n.Fl)((()=>e.state.resources.toOthersAggregated)),p=(0,n.Fl)((()=>{var e,t,a;let n=0;return u.value&&(n=null!==(a=null===(t=null===(e=u.value)||void 0===e?void 0:e.core_liquid_balance)||void 0===t?void 0:t.value)&&void 0!==a?a:0),n})),g=(0,n.Fl)((()=>{var e,t;return null===(t=null===(e=u.value)||void 0===e?void 0:e.total_resources)||void 0===t?void 0:t.cpu_weight.value})),w=(0,n.Fl)((()=>{var e,t;return null===(t=null===(e=u.value)||void 0===e?void 0:e.total_resources)||void 0===t?void 0:t.net_weight.value})),h=(0,n.Fl)((()=>{var e,t,a,n,o,l;return(null!==(a=null===(t=null===(e=u.value)||void 0===e?void 0:e.refund_request)||void 0===t?void 0:t.cpu_amount.value)&&void 0!==a?a:0)+(null!==(l=null===(o=null===(n=u.value)||void 0===n?void 0:n.refund_request)||void 0===o?void 0:o.net_amount.value)&&void 0!==l?l:0)})),f=e=>(0,Ta.xG)(e||0,i.value.precision,i.value.symbol);return{store:e,openCoinDialog:t,stakingAccount:a,cpuTokens:o,netTokens:l,total:s,accountData:u,token:i,ramPrice:r,ramAvailable:d,delegatedByOthers:m,delegatedToOthers:v,accountTotal:p,currentCpu:g,currentNet:w,totalRefund:h,formatValue:f}}}),kn=(0,q.Z)(_n,[["render",yn],["__scopeId","data-v-08448fb5"]]),xn=kn,Tn={class:"staking-form"},qn={class:"row"},Sn={class:"col-12"},In={class:"row justify-between q-pb-sm"},Dn=(0,n.Uk)("CPU/NET Receiver "),Cn=(0,n._)("div",{class:"text-grey-3"},"Defaults to connected account",-1),An={class:"row q-py-md"},Wn={class:"col-6"},Vn={class:"row q-pb-sm"},Zn=(0,n._)("div",{class:"col-6"},"ADD CPU",-1),Nn={class:"col-6 text-right"},zn={class:"text-weight-bold"},Mn={class:"col-6 q-pl-md"},Fn={class:"row q-pb-sm"},Hn=(0,n._)("div",{class:"col-6"},"ADD NET",-1),Rn={class:"col-6 text-right"},Un={class:"text-weight-bold"},Qn={key:0,class:"row text-red"},jn={class:"row"},Ln={class:"col-12 q-pt-md"};function En(e,t,a,o,l,s){const i=(0,n.up)("q-space"),c=(0,n.up)("q-input"),u=(0,n.up)("q-btn"),d=(0,n.up)("q-card-section"),m=(0,n.up)("ViewTransaction");return(0,n.wg)(),(0,n.iD)("div",Tn,[(0,n.Wm)(d,{class:"text-grey-3 text-weight-light"},{default:(0,n.w5)((()=>[(0,n._)("div",qn,[(0,n._)("div",Sn,[(0,n._)("div",In,[Dn,(0,n.Wm)(i),Cn]),(0,n.Wm)(c,{modelValue:e.stakingAccount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.stakingAccount=t),class:"full-width",standout:"bg-deep-purple-2 text-white",dense:"",dark:"","lazy-rules":!0,rules:[t=>e.isValidAccount(t)||"Invalid account name."]},null,8,["modelValue","rules"])])]),(0,n._)("div",An,[(0,n._)("div",Wn,[(0,n._)("div",Vn,[Zn,(0,n._)("div",Nn,[(0,n._)("span",zn,(0,r.zw)(`${e.accountTotalAsNumber} AVAILABLE`),1)])]),(0,n.Wm)(c,{modelValue:e.cpuTokens,"onUpdate:modelValue":t[1]||(t[1]=t=>e.cpuTokens=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:e.inputRules,type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",Mn,[(0,n._)("div",Fn,[Hn,(0,n._)("div",Rn,[(0,n._)("span",Un,(0,r.zw)(`${e.accountTotalAsNumber} AVAILABLE`),1)])]),(0,n.Wm)(c,{modelValue:e.netTokens,"onUpdate:modelValue":t[2]||(t[2]=t=>e.netTokens=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:e.inputRules,type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])])]),e.notEnoughTlosForTransaction?((0,n.wg)(),(0,n.iD)("div",Qn,"Balance too low for transaction")):(0,n.kq)("",!0),(0,n._)("div",jn,[(0,n._)("div",Ln,[(0,n.Wm)(u,{class:"full-width button-accent",label:"Confirm",flat:"",disable:e.disableCta,onClick:e.sendTransaction},null,8,["disable","onClick"])])])])),_:1}),(0,n.Wm)(m,{modelValue:e.openTransaction,"onUpdate:modelValue":t[3]||(t[3]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])}var Pn=a(33100),Bn=a(1546),On=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const $n=(0,qa.z)(),Yn=$n.getSystemToken().symbol,Gn=(0,n.aZ)({name:"StakeTab",components:{ViewTransaction:Bn.Z},setup(){const e=(0,ot.p)(),t=(0,c.iH)(!1),a=(0,c.iH)(e.state.account.accountName||""),o=(0,n.Fl)((()=>{var t;return(null!==(t=e.state.account.data.core_liquid_balance)&&void 0!==t?t:0).toString()})),l=(0,n.Fl)((()=>(0,Ta.sA)(o.value))),s=(0,c.iH)("0"),i=(0,c.iH)("0");function u(){"0"!==s.value&&(s.value=Number(s.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,"")),"0"!==i.value&&(i.value=Number(i.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,""))}return Object.assign(Object.assign({openTransaction:t,stakingAccount:a,cpuTokens:s,netTokens:i},(0,Pn.nv)({delegateResources:"resources/delegateResources"})),{transactionId:(0,c.iH)(null),transactionError:null,formatDec:u,accountTotalAsNumber:l,isValidAccount:Ta.Kf})},computed:{inputRules(){return[e=>+e>=0||"Value must not be negative",e=>+e<this.accountTotalAsNumber||"Not enough funds"]},notEnoughTlosForTransaction(){return+this.cpuTokens+ +this.netTokens>this.accountTotalAsNumber},disableCta(){const e=0===+this.cpuTokens&&0===+this.netTokens;return this.notEnoughTlosForTransaction||e}},methods:{sendTransaction(){return On(this,void 0,void 0,(function*(){this.transactionError="",parseFloat(this.cpuTokens)<=0&&parseFloat(this.netTokens)<=0?this.$q.notify("Enter valid value for CPU or NET to stake"):(yield this.delegateResources({from:this.$store.state.account.accountName,to:this.stakingAccount.toLowerCase().trim(),transfer:!1,cpu_weight:parseFloat(this.cpuTokens)>0?(0,Ta.xG)(parseFloat(this.cpuTokens),4,Yn,!0):`0.0000 ${Yn}`,net_weight:parseFloat(this.netTokens)>0?(0,Ta.xG)(parseFloat(this.netTokens),4,Yn,!0):`0.0000 ${Yn}`}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(this.openTransaction=!0))}))}}}),Kn=(0,q.Z)(Gn,[["render",En]]),Jn=Kn;Z()(Gn,"components",{QCardSection:ue.Z,QSpace:S.Z,QInput:fa.Z,QBtn:ne.Z});const Xn={class:"unstake-tab"},eo={class:"row q-pb-md"},to={class:"col-12"},ao={class:"row q-pb-md"},no={class:"col-6"},oo={class:"row q-pb-sm"},lo=(0,n._)("div",{class:"col-6"},"REMOVE CPU",-1),so={class:"col-6"},io={class:"text-weight-bold balance-amount"},co=(0,n.Uk)("Click to fill full amount"),uo={class:"col-6 q-pl-md"},ro={class:"row q-pb-sm"},mo=(0,n._)("div",{class:"col-6"},"REMOVE NET",-1),vo={class:"col-6"},po={class:"text-weight-bold balance-amount"},go=(0,n.Uk)("Click to fill full amount"),wo={class:"row"},ho={class:"col-12 q-pt-md"};function fo(e,t,a,o,l,s){const i=(0,n.up)("q-linear-progress"),c=(0,n.up)("q-select"),u=(0,n.up)("q-icon"),d=(0,n.up)("q-tooltip"),m=(0,n.up)("q-input"),v=(0,n.up)("q-spinner"),p=(0,n.up)("q-btn"),g=(0,n.up)("ViewTransaction"),w=(0,n.up)("q-card-section");return(0,n.wg)(),(0,n.iD)("div",Xn,[(0,n.Wm)(w,{class:"text-grey-3 text-weight-light"},{default:(0,n.w5)((()=>[(0,n._)("div",eo,[(0,n._)("div",to,[e.isUpdating?((0,n.wg)(),(0,n.j4)(i,{key:0,color:"primary"})):((0,n.wg)(),(0,n.j4)(c,{key:1,modelValue:e.selectModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectModel=t),class:"full-width unstake-tab__select",color:"primary",options:e.selectOptions,label:"Delegated to",rules:[e=>!!e||"Delegated to is required"]},null,8,["modelValue","options","rules"]))])]),(0,n._)("div",ao,[(0,n._)("div",no,[(0,n._)("div",oo,[lo,(0,n._)("div",so,[(0,n._)("div",{class:"color-grey-3 flex justify-end items-center",onClick:t[1]||(t[1]=t=>e.cpuTokens=e.cpuStake.toString())},[(0,n._)("span",io,(0,r.zw)(`${e.cpuStake} AVAILABLE`),1),(0,n.Wm)(u,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[co])),_:1})])])]),(0,n.Wm)(m,{modelValue:e.cpuTokens,"onUpdate:modelValue":t[2]||(t[2]=t=>e.cpuTokens=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:e.cpuInputRules,type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",uo,[(0,n._)("div",ro,[mo,(0,n._)("div",vo,[(0,n._)("div",{class:"color-grey-3 flex justify-end items-center",onClick:t[3]||(t[3]=t=>e.netTokens=e.netStake.toString())},[(0,n._)("span",po,(0,r.zw)(`${e.netStake} AVAILABLE`),1),(0,n.Wm)(u,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[go])),_:1})])])]),(0,n.Wm)(m,{modelValue:e.netTokens,"onUpdate:modelValue":t[4]||(t[4]=t=>e.netTokens=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:e.netInputRules,type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])])]),(0,n._)("div",wo,[(0,n._)("div",ho,[(0,n.Wm)(p,{class:"full-width button-accent",label:"Confirm",flat:"",disable:e.ctaDisabled||e.isUnstaking,onClick:e.sendTransaction},{default:(0,n.w5)((()=>[e.isUnstaking?((0,n.wg)(),(0,n.j4)(v,{key:0,size:"20px",color:"white",class:"q-ml-sm"})):(0,n.kq)("",!0)])),_:1},8,["disable","onClick"])])]),(0,n.Wm)(g,{modelValue:e.openTransaction,"onUpdate:modelValue":t[5]||(t[5]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])),_:1})])}var bo=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const yo=(0,qa.z)(),_o=yo.getSystemToken().symbol,ko=(0,n.aZ)({name:"UnstakeTab",components:{ViewTransaction:Bn.Z},setup(){const e=(0,ot.p)(),t=(0,c.iH)(!1),a=(0,c.iH)(e.state.account.accountName.toLowerCase()||""),o=(0,c.iH)("0"),l=(0,c.iH)("0");function s(){"0"!==o.value&&(o.value=Number(o.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,"")),"0"!==l.value&&(l.value=Number(l.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,""))}const i=(0,n.Fl)((()=>e.resources.getDelegatedToOthers())),u=(0,n.Fl)((()=>e.resources.isLoading("updateResources"))),r=(0,n.Fl)((()=>e.resources.isLoading("undelegateResources"))),d=(0,n.Fl)((()=>e.resources.getLoading())),m=(0,c.iH)({label:"",value:null}),v=(0,n.Fl)((()=>{var e,t;return null===(t=null===(e=m.value)||void 0===e?void 0:e.value)||void 0===t?void 0:t.to})),p=(0,n.Fl)((()=>{var e,t;const a=null!==(t=null===(e=i.value)||void 0===e?void 0:e.map((e=>({label:e.to,value:e}))))&&void 0!==t?t:[];return a}));e.resources.updateResources({}).then((()=>{var t;const a=e.resources.getSelfStaked();a&&(m.value={label:null!==(t=null===a||void 0===a?void 0:a.to)&&void 0!==t?t:"unknown",value:a})}));const g=(0,c.iH)(0),w=(0,c.iH)(0);return Object.assign(Object.assign({openTransaction:t,stakingAccount:a,receiverAccount:v,selectModel:m,selectOptions:p,delegatedList:i,isUpdating:u,isUnstaking:r,loading:d,cpuTokens:o,netTokens:l},(0,Pn.nv)({undelegateResources:"resources/undelegateResources"})),{transactionId:(0,c.iH)(null),transactionError:null,formatDec:s,assetToAmount:Ta.sA,netStake:g,cpuStake:w})},watch:{selectModel:{handler(){this.update()},deep:!0},selectOptions:{handler(){this.update()},deep:!0}},computed:{cpuInputRules(){return[e=>+e>=0||"Value must not be negative",e=>+e<=this.cpuStake||"Not enough staked"]},netInputRules(){return[e=>+e>=0||"Value must not be negative",e=>+e<=this.netStake||`Not enough staked, needed: ${this.netStake}`]},ctaDisabled(){return this.cpuStake+this.netStake===0}},methods:{update(){var e,t;const a=this.selectOptions.find((e=>{var t,a,n;return e.value.to===(null!==(n=null===(a=null===(t=this.selectModel)||void 0===t?void 0:t.value)||void 0===a?void 0:a.to)&&void 0!==n?n:"")}));a&&(this.selectModel=a),this.netStake=this.assetToAmount(null===(e=this.selectModel.value)||void 0===e?void 0:e.net_weight.toString()),this.cpuStake=this.assetToAmount(null===(t=this.selectModel.value)||void 0===t?void 0:t.cpu_weight.toString()),this.netTokens="0",this.cpuTokens="0"},sendTransaction(){return bo(this,void 0,void 0,(function*(){this.transactionError="",parseFloat(this.cpuTokens)<=0&&parseFloat(this.netTokens)<=0?this.$q.notify("Enter valid value for CPU or NET to unstake"):(yield this.undelegateResources({from:this.stakingAccount,to:this.receiverAccount,transfer:!1,cpu_weight:parseFloat(this.cpuTokens)>0?(0,Ta.xG)(parseFloat(this.cpuTokens),4,_o,!0):`0.0000 ${_o}`,net_weight:parseFloat(this.netTokens)>0?(0,Ta.xG)(parseFloat(this.netTokens),4,_o,!0):`0.0000 ${_o}`}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(this.openTransaction=!0))}))}}});var xo=a(8289),To=a(32259),qo=a(63940),So=a(18149);const Io=(0,q.Z)(ko,[["render",fo]]),Do=Io;Z()(ko,"components",{QCardSection:ue.Z,QLinearProgress:xo.Z,QSelect:To.Z,QIcon:Wa.Z,QTooltip:Va.Z,QInput:fa.Z,QBtn:ne.Z,QSpinner:qo.Z,QField:So.Z});const Co={class:"q-pt-lg"},Ao={class:"container-refund"},Wo={class:"row full-width"},Vo={class:"row full-width q-pt-lg q-px-lg"},Zo=(0,n._)("div",{class:"col-6 text-h6 grey-3"},"Refunding Total",-1),No={class:"col-6 text-h6 text-right grey-3"},zo=(0,n._)("div",{class:"row full-width q-py-md"},[(0,n._)("hr")],-1),Mo={class:"row full-width q-pb-lg text-grey-3 text-weight-light"},Fo={class:"col-xs-12 col-sm-6 q-px-lg q-pt-sm"},Ho={class:"row"},Ro=(0,n._)("div",{class:"col-6"},"CPU",-1),Uo={class:"col-6 text-right text-weight-bold"},Qo={class:"row q-pt-md"},jo=(0,n._)("div",{class:"col-6"},"NET",-1),Lo={class:"col-6 text-right text-weight-bold"},Eo={class:"col-xs-12 col-sm-6 q-px-lg q-pt-sm"},Po={class:"row"},Bo={class:"col-7"},Oo={class:"col-5 text-right text-weight-bold"},$o={class:"row q-pt-sm"},Yo={class:"col-7 q-pt-sm"},Go=(0,n.Uk)("Refund "),Ko=(0,n.Uk)("If it has been more than 72 hours since your unstake transaction. Click on Refund to claim your tokens."),Jo={class:"col-5 text-right grey-3"};function Xo(e,t,a,o,l,s){const i=(0,n.up)("q-linear-progress"),c=(0,n.up)("q-tooltip"),u=(0,n.up)("q-icon"),d=(0,n.up)("q-btn"),m=(0,n.up)("ViewTransaction");return(0,n.wg)(),(0,n.iD)("div",Co,[(0,n._)("div",Ao,[(0,n._)("div",Wo,[(0,n._)("div",Vo,[Zo,(0,n._)("div",No,(0,r.zw)(e.totalRefund),1)]),zo,(0,n._)("div",Mo,[(0,n._)("div",Fo,[(0,n._)("div",Ho,[Ro,(0,n._)("div",Uo,(0,r.zw)(e.cpuAmount||"0"),1)]),(0,n._)("div",Qo,[jo,(0,n._)("div",Lo,(0,r.zw)(e.netAmount||"0"),1)])]),(0,n._)("div",Eo,[(0,n._)("div",Po,[(0,n._)("div",Bo,(0,r.zw)(e.refundCountdown()),1),(0,n._)("div",Oo,[(0,n.Wm)(i,{class:"q-mt-sm",value:e.refundProgress(),color:"grey-3"},null,8,["value"])])]),(0,n._)("div",$o,[(0,n._)("div",Yo,[Go,(0,n.Wm)(u,{class:"q-ml-xs",name:"far fa-question-circle"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"bg-deep-purple-12",anchor:"top middle",self:"center middle"},{default:(0,n.w5)((()=>[Ko])),_:1})])),_:1})]),(0,n._)("div",Jo,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Refund",flat:"",onClick:e.sendTransaction},null,8,["onClick"])])])])])]),(0,n.Wm)(m,{modelValue:e.openTransaction,"onUpdate:modelValue":t[0]||(t[0]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])])}var el=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const tl=(0,n.aZ)({name:"RefundTab",components:{ViewTransaction:Bn.Z},setup(){const e=(0,Sa.useStore)(),t=(0,c.iH)(!1),a=(0,c.iH)(""),o=(0,c.iH)("0"),l=(0,c.iH)(.2),s=(0,n.Fl)((()=>{var e;return null===(e=d.value)||void 0===e?void 0:e.refund_request})),i=(0,n.Fl)((()=>{var e;return null===(e=s.value)||void 0===e?void 0:e.cpu_amount.value})),u=(0,n.Fl)((()=>{var e;return null===(e=s.value)||void 0===e?void 0:e.net_amount.value})),r=(0,n.Fl)((()=>e.state.chain.token)),d=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data})),m=(0,n.Fl)((()=>{const e=s.value?(0,Ta.xG)(s.value.cpu_amount.value+s.value.net_amount.value,4):0;return`${e} ${r.value.symbol}`}));function v(e){const t=e/Math.pow(10,r.value.precision);return(0,Ta.xG)(t,2,r.value.symbol)}function p(){var e;let t=Math.round(new Date(new Date((null===(e=d.value.refund_request)||void 0===e?void 0:e.request_time.toString())+"Z").toUTCString()).getTime()/1e3)+259200-Math.round(new Date(Date.now()).getTime()/1e3),a=t/259200;return a>0?a:0}function g(){var e,t;let a=Math.round(new Date(new Date((null===(t=null===(e=d.value)||void 0===e?void 0:e.refund_request)||void 0===t?void 0:t.request_time.toString())+"Z")).getTime()/1e3)+259200-Math.round(new Date((new Date).toISOString()).getTime()/1e3);if(a>0){var n=w(a,86400),o=w(a,3600)%24;return`${n} days, ${o} hours remaining`}return"No pending refund"}function w(e,t){return Math.floor(e/t)}return Object.assign(Object.assign({store:e,openTransaction:t,stakingAccount:a,total:o,totalRefund:m,accountData:d,refundRequest:s,cpuAmount:i,netAmount:u,token:r,progress:l,formatStaked:v,refundProgress:p,refundCountdown:g},(0,Pn.nv)({sendAction:"account/sendAction"})),{transactionId:(0,c.iH)(null),transactionError:null})},methods:{sendTransaction(){return el(this,void 0,void 0,(function*(){this.transactionError="";const e={owner:this.accountData.account_name,transfer:!1};try{this.transactionId=(yield this.sendAction({account:"eosio",name:"refund",data:e})).transactionId}catch(t){this.transactionError=t,this.$store.commit("account/setTransactionError",t)}yield this.loadAccountData(),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(this.openTransaction=!0)}))},loadAccountData(){return el(this,void 0,void 0,(function*(){try{const e=yield this.$api.getAccount(this.store.state.account.abi.account_name);this.$store.commit("account/setAccountData",e)}catch(e){return}}))}}}),al=(0,q.Z)(tl,[["render",Xo]]),nl=al;Z()(tl,"components",{QLinearProgress:xo.Z,QIcon:Wa.Z,QTooltip:Va.Z,QBtn:ne.Z});const ol=e=>((0,n.dD)("data-v-61552d2f"),e=e(),(0,n.Cn)(),e),ll={class:"staking-form"},sl={class:"row q-col-gutter-md"},il={class:"text-weight-bold text-right text-grey-3"},cl={class:"row q-col-gutter-md q-pb-md"},ul={class:"row"},rl={class:"col-12"},dl={class:"row justify-between q-pb-sm"},ml=(0,n.Uk)("RAM Receiver: "),vl=ol((()=>(0,n._)("div",{class:"text-grey-3"},"Defaults to connected account",-1))),pl={class:"row q-mb-md"},gl={class:"row q-pb-sm full-width"},wl={class:"col-6"},hl={class:"col-6 text-right"},fl={class:"text-weight-bold"},bl={class:"row q-pb-sm"},yl={class:"text-weight-normal text-right text-grey-3"},_l={class:"row"};function kl(e,t,a,o,l,s){const i=(0,n.up)("q-radio"),c=(0,n.up)("q-space"),u=(0,n.up)("q-input"),d=(0,n.up)("q-btn"),m=(0,n.up)("ViewTransaction"),v=(0,n.up)("q-card-section");return(0,n.wg)(),(0,n.iD)("div",ll,[(0,n.Wm)(v,{class:"text-grey-3"},{default:(0,n.w5)((()=>[(0,n._)("div",sl,[(0,n._)("div",il,"Buy in "+(0,r.zw)(e.symbol)+" or Bytes?",1)]),(0,n._)("div",cl,[(0,n.Wm)(i,{modelValue:e.buyOption,"onUpdate:modelValue":t[0]||(t[0]=t=>e.buyOption=t),dark:"",color:"white",val:e.symbol,label:e.symbol},null,8,["modelValue","val","label"]),(0,n.Wm)(i,{modelValue:e.buyOption,"onUpdate:modelValue":t[1]||(t[1]=t=>e.buyOption=t),dark:"",color:"white",val:"Bytes",label:"Bytes"},null,8,["modelValue"])]),(0,n._)("div",ul,[(0,n._)("div",rl,[(0,n._)("div",dl,[ml,(0,n.Wm)(c),vl]),(0,n.Wm)(u,{modelValue:e.receivingAccount,"onUpdate:modelValue":t[2]||(t[2]=t=>e.receivingAccount=t),class:"full-width",standout:"bg-deep-purple-2 text-white",dense:"",dark:"","lazy-rules":!0,rules:[t=>e.isValidAccount(t)||"Invalid account name."]},null,8,["modelValue","rules"])])]),(0,n._)("div",pl,[(0,n._)("div",gl,[(0,n._)("div",wl,(0,r.zw)("Amount of RAM to buy in "+e.buyOption),1),(0,n._)("div",hl,[(0,n._)("span",fl,(0,r.zw)(`${e.prettyBuyLimit()} AVAILABLE`),1)])]),(0,n.Wm)(u,{modelValue:e.buyAmount,"onUpdate:modelValue":t[3]||(t[3]=t=>e.buyAmount=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:e.inputRules,type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",bl,[(0,n._)("div",yl,"≈ "+(0,r.zw)(e.buyPreview),1)]),(0,n._)("div",_l,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Buy",flat:"",disable:e.disableCta,onClick:e.buy},null,8,["disable","onClick"])]),(0,n.Wm)(m,{modelValue:e.openTransaction,"onUpdate:modelValue":t[4]||(t[4]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])),_:1})])}var xl=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Tl=(0,qa.z)(),ql=(0,n.aZ)({name:"BuyRam",components:{ViewTransaction:Bn.Z},setup(){const e=(0,Sa.useStore)();let t=(0,c.iH)(!1);const a=(0,c.iH)(""),o=(0,c.iH)(Tl.getSystemToken().symbol),l=[o.value,"Bytes"],s=(0,c.iH)(l[0]),i=(0,c.iH)(e.state.account.accountName),u=(0,n.Fl)((()=>e.state.account.TransactionId)),r=(0,n.Fl)((()=>s.value===l[0]?(1e3*Number(a.value)/Number(m.value)).toFixed(0)+" "+l[1]:(0,Ta.xG)(Number(a.value)/1e3*Number(m.value),4)+" "+l[0])),d=(0,n.Fl)((()=>e.state.account.TransactionError)),m=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.chain.ram_price})),v=(0,n.Fl)((()=>te.UInt64.sub(e.state.account.data.ram_quota,e.state.account.data.ram_usage))),p=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data}));function g(){const t=e.state.chain.token.precision;s.value===l[0]?a.value=Number(a.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:t,minimumFractionDigits:t}).replace(/[^0-9.]/g,""):""!==a.value&&(a.value=parseInt(a.value).toString().replace(/[^0-9.]/g,""))}function w(){return xl(this,void 0,void 0,(function*(){if(e.dispatch("account/resetTransaction"),s.value===l[0]){if("0"===a.value||Number(a.value)>=Number(p.value.core_liquid_balance.value))return;yield e.dispatch("account/buyRam",{amount:a.value+" "+o.value,receivingAccount:i.value})}else{if("0"===a.value||Number(a.value)>=1e3*Number(p.value.core_liquid_balance.value)/Number(m.value))return;yield e.dispatch("account/buyRamBytes",{amount:a.value,receivingAccount:i.value})}"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(t.value=!0)}))}function h(){var e,t,a,n;return s.value===l[0]?null!==(t=null===(e=p.value.core_liquid_balance)||void 0===e?void 0:e.value)&&void 0!==t?t:0:1e3*Number(null!==(n=null===(a=p.value.core_liquid_balance)||void 0===a?void 0:a.value)&&void 0!==n?n:0)/Number(m.value)}function f(){return s.value===l[0]?h():h().toFixed(0)}return(0,n.YP)(s,(()=>{a.value="0"})),{openTransaction:t,buyAmount:a,transactionId:u,transactionError:d,ramAvailable:v,accountData:p,receivingAccount:i,symbol:o,buyOption:s,buyPreview:r,formatDec:g,buy:w,buyLimit:h,prettyBuyLimit:f,isValidAccount:Ta.Kf}},computed:{inputRules(){return[e=>+e>=0||"Value must not be negative",e=>+e<this.buyLimit()||"Not enough funds"]},disableCta(){return 0===+this.buyAmount||+this.buyAmount>this.buyLimit()}}});var Sl=a(11480);const Il=(0,q.Z)(ql,[["render",kl],["__scopeId","data-v-61552d2f"]]),Dl=Il;Z()(ql,"components",{QCardSection:ue.Z,QRadio:Sl.Z,QSpace:S.Z,QInput:fa.Z,QBtn:ne.Z});const Cl=e=>((0,n.dD)("data-v-1a7d69d7"),e=e(),(0,n.Cn)(),e),Al={class:"staking-form"},Wl={class:"row"},Vl={class:"row q-pb-sm full-width"},Zl=Cl((()=>(0,n._)("div",{class:"col-6"},(0,r.zw)("Amount of RAM to sell in Bytes"),-1))),Nl={class:"col-6"},zl={class:"text-weight-bold balance-amount"},Ml=(0,n.Uk)("Click to fill full amount"),Fl={class:"row q-pb-sm"},Hl={class:"text-weight-normal text-right text-grey-3"},Rl={class:"row"};function Ul(e,t,a,o,l,s){const i=(0,n.up)("q-icon"),c=(0,n.up)("q-tooltip"),u=(0,n.up)("q-input"),d=(0,n.up)("q-btn"),m=(0,n.up)("ViewTransaction"),v=(0,n.up)("q-card-section");return(0,n.wg)(),(0,n.iD)("div",Al,[(0,n.Wm)(v,{class:"text-grey-3"},{default:(0,n.w5)((()=>[(0,n._)("div",Wl,[(0,n._)("div",Vl,[Zl,(0,n._)("div",Nl,[(0,n._)("div",{class:"color-grey-3 flex justify-end items-center",onClick:t[0]||(t[0]=t=>e.sellAmount=e.ramAvailable.toString())},[(0,n._)("span",zl,(0,r.zw)(`${e.ramAvailable} AVAILABLE`),1),(0,n.Wm)(i,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[Ml])),_:1})])])]),(0,n.Wm)(u,{modelValue:e.sellAmount,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sellAmount=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:e.inputRules,type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",Fl,[(0,n._)("div",Hl,"≈ "+(0,r.zw)(e.sellPreview),1)]),(0,n._)("div",Rl,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Sell",flat:"",disable:e.disableCta,onClick:e.sell},null,8,["disable","onClick"])]),(0,n.Wm)(m,{modelValue:e.openTransaction,"onUpdate:modelValue":t[2]||(t[2]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])),_:1})])}var Ql=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const jl=(0,n.aZ)({name:"SellRam",components:{ViewTransaction:Bn.Z},setup(){const e=(0,Sa.useStore)(),t=(0,qa.z)();let a=(0,c.iH)(!1);const o=(0,c.iH)(""),l=(0,c.iH)(t.getSystemToken().symbol),s=(0,n.Fl)((()=>e.state.account.TransactionId)),i=(0,n.Fl)((()=>e.state.account.TransactionError)),u=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.chain.ram_price})),r=(0,n.Fl)((()=>(0,Ta.xG)(Number(o.value)/1e3*Number(u.value),4,l.value))),d=(0,n.Fl)((()=>Number(e.state.account.data.ram_quota.value)-Number(e.state.account.data.ram_usage.value))),m=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data}));function v(){o.value=parseInt(o.value).toString().replace(/[^0-9.]/g,"")}function p(){return Ql(this,void 0,void 0,(function*(){e.dispatch("account/resetTransaction"),"0"===o.value||!d.value||Number(o.value)>d.value||(yield e.dispatch("account/sellRam",{amount:o.value}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(a.value=!0))}))}return{openTransaction:a,sellAmount:o,transactionId:s,transactionError:i,ramAvailable:d,accountData:m,symbol:l,sellPreview:r,formatDec:v,sell:p}},computed:{inputRules(){return[e=>+e>=0||"Value must not be negative",e=>+e<=this.ramAvailable||"Not enough RAM"]},disableCta(){return 0===+this.sellAmount||+this.sellAmount>this.ramAvailable}}}),Ll=(0,q.Z)(jl,[["render",Ul],["__scopeId","data-v-1a7d69d7"]]),El=Ll;Z()(jl,"components",{QCardSection:ue.Z,QIcon:Wa.Z,QTooltip:Va.Z,QInput:fa.Z,QBtn:ne.Z});const Pl=(0,n.aZ)({name:"ResourcesDialog",components:{StakingInfo:xn,StakingTab:Jn,UnstakingTab:Do,RefundTab:nl,BuyRam:Dl,SellRam:El},setup(){return{tab:(0,c.iH)("stake")}}});var Bl=a(47817),Ol=a(57661),$l=a(89800),Yl=a(84106);const Gl=(0,q.Z)(Pl,[["render",Ea],["__scopeId","data-v-4574639d"]]),Kl=Gl;Z()(Pl,"components",{QDialog:ha.Z,QCard:D.Z,QBtn:ne.Z,QTabs:Bl.Z,QTab:Ol.Z,QSeparator:I.Z,QTabPanels:$l.Z,QTabPanel:Yl.Z}),Z()(Pl,"directives",{ClosePopup:_a.Z});const Jl=e=>((0,n.dD)("data-v-17b7ca54"),e=e(),(0,n.Cn)(),e),Xl={class:"row justify-center q-pt-xl full-height full-width"},es={class:"absolute-top-right"},ts={class:"col-xs-12 col-sm-10 col-md-7 col-lg-7 max-dialog-width"},as={class:"row q-pl-sm"},ns=Jl((()=>(0,n._)("div",{class:"text-h4 q-pb-md inline-block color-grey-3 inline"},"Staking (REX)",-1))),os={class:"text-h5 q-pb-md inline-block color-grey-3 inline float-right"},ls={class:"q-pa-sm"},ss={key:0,class:"q-pt-lg q-pl-lg"},is={class:"row q-col-gutter-md items-center"},cs={class:"col-auto text-h6 text-white"},us={class:"col-auto"},rs={class:"q-pt-lg text-grey-3 text-weight-light"};function ds(e,t,a,o,l,s){const i=(0,n.up)("q-btn"),c=(0,n.up)("StakingInfo"),u=(0,n.up)("q-tab"),d=(0,n.up)("q-tabs"),m=(0,n.up)("q-separator"),v=(0,n.up)("StakingTab"),p=(0,n.up)("q-tab-panel"),g=(0,n.up)("UnstakingTab"),w=(0,n.up)("StakeFromResources"),h=(0,n.up)("SavingsTab"),f=(0,n.up)("ProcessingTab"),b=(0,n.up)("HistoryTab"),y=(0,n.up)("q-tab-panels"),_=(0,n.up)("q-card"),k=(0,n.up)("q-dialog"),x=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(k,{persistent:!0,maximized:"",onShow:e.setDefaults},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"rexCard"},{default:(0,n.w5)((()=>[(0,n._)("div",Xl,[(0,n._)("div",es,[(0,n.wy)((0,n.Wm)(i,{size:"20px",flat:"",dense:"",round:"",icon:"clear"},null,512),[[x]])]),(0,n._)("div",ts,[(0,n._)("div",as,[ns,(0,n._)("div",os,"APY: "+(0,r.zw)(e.apy),1)]),(0,n._)("div",ls,[(0,n.Wm)(c),e.rexfund>0?((0,n.wg)(),(0,n.iD)("div",ss,[(0,n._)("div",is,[(0,n._)("div",cs,"REX fund: "+(0,r.zw)(e.prettyRexFund),1),(0,n._)("div",us,[(0,n.Wm)(i,{class:"full-width button-accent",label:"Withdraw",flat:"",onClick:e.withdrawRexFund},null,8,["onClick"])])])])):(0,n.kq)("",!0),(0,n._)("div",rs,[(0,n.Wm)(d,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"text-grey-5 tab-text text-grey",dense:"","indicator-color":"grey-3","active-color":"grey-3","narrow-indicator":"",align:"left",breakpoint:0,"no-caps":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"stake",label:"Stake"}),(0,n.Wm)(u,{name:"unstake",label:"Unstake"}),(0,n.Wm)(u,{name:"stakecpunet",label:"Stake from CPU/NET"}),(0,n.Wm)(u,{name:"savings",label:"Savings"}),(0,n.Wm)(u,{name:"maturing",label:"Maturing"}),(0,n.Wm)(u,{name:"history",label:"History"})])),_:1},8,["modelValue"]),(0,n.Wm)(m,{color:"grey-8"}),(0,n.Wm)(y,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"tab-panel"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{name:"stake"},{default:(0,n.w5)((()=>[(0,n.Wm)(v)])),_:1}),(0,n.Wm)(p,{name:"unstake"},{default:(0,n.w5)((()=>[(0,n.Wm)(g)])),_:1}),(0,n.Wm)(p,{name:"stakecpunet"},{default:(0,n.w5)((()=>[(0,n.Wm)(w)])),_:1}),(0,n.Wm)(p,{name:"savings"},{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1}),(0,n.Wm)(p,{name:"maturing"},{default:(0,n.w5)((()=>[(0,n.Wm)(f)])),_:1}),(0,n.Wm)(p,{name:"history"},{default:(0,n.w5)((()=>[(0,n.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])])])])])),_:1})])),_:1},8,["onShow"])}const ms={class:"container text-grey-3 text-weight-light"},vs={class:"row full-width"},ps={class:"row full-width q-pt-md q-px-lg"},gs=(0,n._)("div",{class:"col-6 text-h6 grey-3"},"LIQUID BALANCE",-1),ws={class:"col-6 text-h6 text-right grey-3"},hs=(0,n._)("div",{class:"row full-width q-py-md q-px-md"},[(0,n._)("hr")],-1),fs={class:"row full-width q-pb-lg"},bs={class:"col-xs-12 col-sm-6 q-px-lg"},ys={class:"row"},_s={class:"col-7"},ks={class:"col-5 text-right text-weight-bold"},xs={class:"row q-pt-sm"},Ts=(0,n._)("div",{class:"col-7"},"SAVINGS",-1),qs={class:"col-5 text-right text-weight-bold"},Ss={class:"col-xs-12 col-sm-6 q-px-lg"},Is={class:"row"},Ds=(0,n._)("div",{class:"col-7"},"MATURED",-1),Cs={class:"col-5 text-right text-weight-bold"},As={class:"row q-pt-sm"},Ws=(0,n._)("div",{class:"col-7"},"MATURING",-1),Vs={class:"col-5 text-right text-weight-bold"};function Zs(e,t,a,o,l,s){return(0,n.wg)(),(0,n.iD)("div",ms,[(0,n._)("div",vs,[(0,n._)("div",ps,[gs,(0,n._)("div",ws,(0,r.zw)(e.liquidBalance),1)]),hs,(0,n._)("div",fs,[(0,n._)("div",bs,[(0,n._)("div",ys,[(0,n._)("div",_s,(0,r.zw)(`TOTAL ${e.symbol} STAKED`),1),(0,n._)("div",ks,(0,r.zw)(e.coreRexBalance),1)]),(0,n._)("div",xs,[Ts,(0,n._)("div",qs,(0,r.zw)(e.rexSavings),1)])]),(0,n._)("div",Ss,[(0,n._)("div",Is,[Ds,(0,n._)("div",Cs,(0,r.zw)(e.maturedRex),1)]),(0,n._)("div",As,[Ws,(0,n._)("div",Vs,(0,r.zw)(e.maturingRex),1)])])])])])}const Ns=(0,qa.z)(),zs=(0,n.aZ)({name:"StakingInfo",setup(){const e=(0,Sa.useStore)(),t=(0,c.iH)(Ns.getSystemToken().symbol),a=(0,c.iH)(""),o=(0,c.iH)("0"),l=(0,n.Fl)((()=>e.state.chain.token)),s=(0,n.Fl)((()=>e.state.account.data)),i=(0,n.Fl)((()=>s.value.core_liquid_balance)),u=(0,n.Fl)((()=>s.value.rex_info)),r=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.coreRexBalance})),d=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.maturingRex})),m=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.maturedRex})),v=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.savingsRex}));return{store:e,symbol:t,stakingAccount:a,total:o,accountData:s,token:l,liquidBalance:i,rexInfo:u,maturingRex:d,coreRexBalance:r,maturedRex:m,rexSavings:v}}}),Ms=(0,q.Z)(zs,[["render",Zs]]),Fs=Ms,Hs={class:"staking-form"},Rs={class:"row q-col-gutter-md"},Us={class:"col-12"},Qs={class:"row"},js={class:"row q-pb-sm full-width"},Ls=(0,n._)("div",{class:"col-9"},"TRANSFER CPU TO STAKING",-1),Es={class:"col-3"},Ps={class:"text-weight-bold text-right balance-amount"},Bs=(0,n.Uk)("Click to fill full amount"),Os=(0,n._)("div",{class:"row"},null,-1),$s={class:"row q-pb-sm full-width"},Ys=(0,n._)("div",{class:"col-9"},"TRANSFER NET TO STAKING",-1),Gs={class:"col-3"},Ks=(0,n.Uk)("Click to fill full amount"),Js={class:"row"};function Xs(e,t,a,o,l,s){const i=(0,n.up)("q-icon"),c=(0,n.up)("q-tooltip"),u=(0,n.up)("q-input"),d=(0,n.up)("q-btn"),m=(0,n.up)("q-card-section"),v=(0,n.up)("ViewTransaction");return(0,n.wg)(),(0,n.iD)("div",Hs,[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n._)("div",Rs,[(0,n._)("div",Us,[(0,n._)("div",Qs,[(0,n._)("div",js,[Ls,(0,n._)("div",Es,[(0,n._)("div",{class:"row items-center justify-end q-hoverable cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.setMaxCpuValue&&e.setMaxCpuValue(...t))},[(0,n._)("div",Ps,(0,r.zw)(e.cpuWeight),1),(0,n.Wm)(i,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[Bs])),_:1})])])]),(0,n.Wm)(u,{modelValue:e.cpuTokens,"onUpdate:modelValue":t[1]||(t[1]=t=>e.cpuTokens=t),class:"full-width",dense:"",dark:"",standout:"bg-deep-purple-2 text-white",placeholder:"0",type:"text","lazy-rules":!0,rules:[t=>t>=0&&t<=e.cpuWeight.value||"Invalid amount."],onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"]),Os,(0,n._)("div",$s,[Ys,(0,n._)("div",Gs,[(0,n._)("div",{class:"row items-center justify-end q-hoverable cursor-pointer",onClick:t[3]||(t[3]=(...t)=>e.setMaxNetValue&&e.setMaxNetValue(...t))},[(0,n._)("div",{class:"text-weight-bold text-right balance-amount",onClick:t[2]||(t[2]=(...t)=>e.setMaxNetValue&&e.setMaxNetValue(...t))},(0,r.zw)(e.netWeight),1),(0,n.Wm)(i,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[Ks])),_:1})])])]),(0,n.Wm)(u,{modelValue:e.netTokens,"onUpdate:modelValue":t[4]||(t[4]=t=>e.netTokens=t),class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:[t=>t>=0&&t<=e.netWeight.value||"Invalid amount."],type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",Js,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Stake "+e.symbol,flat:"",onClick:e.stake},null,8,["label","onClick"])])])])])),_:1}),(0,n.Wm)(v,{modelValue:e.openTransaction,"onUpdate:modelValue":t[5]||(t[5]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])}var ei=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const ti=(0,n.aZ)({name:"StakeFromResources",components:{ViewTransaction:Bn.Z},setup(){const e=(0,Sa.useStore)(),t=(0,c.iH)(!1),a=(0,qa.z)(),o=(0,c.iH)(a.getSystemToken().symbol),l=(0,c.iH)(""),s=(0,c.iH)(""),i=(0,c.iH)("0"),u=(0,c.iH)("0"),r=(0,c.iH)(e.state.account.TransactionId),d=(0,c.iH)(e.state.account.TransactionError),m=(0,n.Fl)((()=>e.state.account.accountName)),v=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data})),p=(0,n.Fl)((()=>v.value.total_resources.cpu_weight)),g=(0,n.Fl)((()=>v.value.total_resources.net_weight));function w(){""!==l.value&&(l.value=Number(l.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,"")),""!==s.value&&(s.value=Number(s.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,""))}function h(){return ei(this,void 0,void 0,(function*(){e.dispatch("account/resetTransaction"),"0"===l.value&&"0"===s.value||Number(l.value)>=Number(p.value)||Number(s.value)>=Number(v.value.total_resources.net_weight)||(yield e.dispatch("account/stakeCpuNetRex",{cpuAmount:l.value||"0",netAmount:s.value||"0"}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(t.value=!0))}))}function f(){return ei(this,void 0,void 0,(function*(){e.dispatch("account/resetTransaction"),"0"===i.value&&"0"===u.value||(yield e.dispatch("account/unstakeCpuNetRex",{cpuAmount:i.value||"0",netAmount:u.value||"0"}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(t.value=!0))}))}function b(){s.value=g.value.toString(),w()}function y(){l.value=p.value.toString(),w()}return{openTransaction:t,stakingAccount:m,cpuTokens:l,netTokens:s,symbol:o,cpuWithdraw:i,netWithdraw:u,transactionId:r,transactionError:d,accountData:v,cpuWeight:p,netWeight:g,formatDec:w,stake:h,unstake:f,setMaxNetValue:b,setMaxCpuValue:y}}}),ai=(0,q.Z)(ti,[["render",Xs]]),ni=ai;Z()(ti,"components",{QCardSection:ue.Z,QIcon:Wa.Z,QTooltip:Va.Z,QInput:fa.Z,QBtn:ne.Z});const oi={class:"q-pt-lg"},li={class:"container-refund q-pa-sm"},si={class:"row full-width"},ii={class:"col-xs-12 col-sm-6"},ci={class:"row q-pa-sm"},ui=(0,n._)("div",{class:"col-6"},"Staked TLOS maturing",-1),ri={class:"col-6 text-right text-weight-bold"},di={class:"col-xs-12 col-sm-6"},mi={class:"row q-pa-sm"},vi={class:"col-7"},pi={class:"col-5 text-right text-weight-bold"};function gi(e,t,a,o,l,s){const i=(0,n.up)("q-linear-progress");return(0,n.wg)(),(0,n.iD)("div",oi,[(0,n._)("div",li,[(0,n._)("div",si,[(0,n._)("div",ii,[(0,n._)("div",ci,[ui,(0,n._)("div",ri,(0,r.zw)(e.maturingRex),1)])]),(0,n._)("div",di,[(0,n._)("div",mi,[(0,n._)("div",vi,(0,r.zw)(e.maturitiesCountdown()),1),(0,n._)("div",pi,[(0,n.Wm)(i,{class:"q-mt-sm",value:e.refundProgress(),color:"grey-3"},null,8,["value"])])])])])])])}const wi=(0,n.aZ)({name:"ProcessingTab",components:{},setup(){const e=(0,Sa.useStore)(),t=(0,c.iH)(.2),a=(0,n.Fl)((()=>e.state.chain.token)),o=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data})),l=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.maturingRex}));function s(){var e,t;if("0"===l.value)return 0;let a=Math.round(new Date(new Date((null===(t=null===(e=o.value)||void 0===e?void 0:e.refund_request)||void 0===t?void 0:t.request_time.toString())+"Z").toUTCString()).getTime()/1e3)+604800-Math.round(new Date(Date.now()).getTime()/1e3),n=a/604800;return n>0?n:.01}function i(){var e,t;if("0"===l.value)return"No maturing TLOS";let a=Math.round(new Date(new Date((null===(t=null===(e=o.value)||void 0===e?void 0:e.rex_info)||void 0===t?void 0:t.rex_maturities[0].first.toString())+"Z")).getTime()/1e3)-Math.round(new Date((new Date).toISOString()).getTime()/1e3);if(a>0){var n=u(a,86400),s=u(a,3600)%24;return`${n} days, ${s} hours remaining`}return"No maturing Rex"}function u(e,t){return Math.floor(e/t)}return Object.assign(Object.assign({store:e,accountData:o,token:a,progress:t,refundProgress:s,maturitiesCountdown:i,maturingRex:l},(0,Pn.nv)({refund:"account/refund"})),{transactionId:(0,c.iH)(null),transactionError:null})}}),hi=(0,q.Z)(wi,[["render",gi]]),fi=hi;Z()(wi,"components",{QLinearProgress:xo.Z});const bi={class:"staking-form"},yi={class:"row q-col-gutter-md"},_i={class:"col-12"},ki={class:"row q-mb-md"},xi={class:"row q-pb-sm full-width"},Ti={class:"col-8"},qi={class:"col-4"},Si={class:"text-weight-bold text-right balance-amount"},Ii=(0,n.Uk)("Click to fill full amount"),Di={class:"row"};function Ci(e,t,a,o,l,s){const i=(0,n.up)("q-icon"),c=(0,n.up)("q-tooltip"),u=(0,n.up)("q-input"),d=(0,n.up)("q-btn"),m=(0,n.up)("ViewTransaction"),v=(0,n.up)("q-card-section");return(0,n.wg)(),(0,n.iD)("div",bi,[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n._)("div",yi,[(0,n._)("div",_i,[(0,n._)("div",ki,[(0,n._)("div",xi,[(0,n._)("div",Ti,(0,r.zw)(`LIQUID ${e.symbol}`),1),(0,n._)("div",qi,[(0,n._)("div",{class:"row items-center justify-end q-hoverable cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.setMaxValue&&e.setMaxValue(...t))},[(0,n._)("div",Si,(0,r.zw)(`${e.liquidBalance} AVAILABLE`),1),(0,n.Wm)(i,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[Ii])),_:1})])])]),(0,n.Wm)(u,{modelValue:e.stakeTokens,"onUpdate:modelValue":t[1]||(t[1]=t=>e.stakeTokens=t),dense:"",dark:"",class:"full-width",standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:e.inputRules,type:"text",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",Di,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Stake "+e.symbol,flat:"",onClick:e.stake},null,8,["label","onClick"])])])]),(0,n.Wm)(m,{modelValue:e.openTransaction,"onUpdate:modelValue":t[2]||(t[2]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])),_:1})])}var Ai=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Wi=(0,qa.z)(),Vi=(0,n.aZ)({name:"StakingTab",components:{ViewTransaction:Bn.Z},setup(){const e=(0,Sa.useStore)();let t=(0,c.iH)(!1);const a=(0,c.iH)(""),o=(0,c.iH)(Wi.getSystemToken().symbol),l=(0,n.Fl)((()=>e.state.account.TransactionId)),s=(0,n.Fl)((()=>e.state.account.TransactionError)),i=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data})),u=(0,n.Fl)((()=>e.state.account.data.rex_info)),r=(0,n.Fl)((()=>e.state.account.rexbal)),d=(0,n.Fl)((()=>e.state.account.maturedRex)),m=(0,n.Fl)((()=>{var e;return null===(e=i.value)||void 0===e?void 0:e.core_liquid_balance.value})),v=(0,n.Fl)((()=>[e=>+e>=0||"Value must not be negative",e=>{var t;return+e<=(0,Ta.sA)((null!==(t=i.value.core_liquid_balance)&&void 0!==t?t:0).toString())||"Balance too low"}]));function p(){const t=e.state.chain.token.precision;""!==a.value&&(a.value=Number(a.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:t,minimumFractionDigits:t}).replace(/[^0-9.]/g,""))}function g(){return Ai(this,void 0,void 0,(function*(){e.dispatch("account/resetTransaction"),"0"===a.value||Number(a.value)>=Number(i.value.core_liquid_balance.toString())||(yield e.dispatch("account/stakeRex",{amount:a.value}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(t.value=!0))}))}function w(){a.value=(0,Ta.sA)(i.value.core_liquid_balance.toString()).toString(),p()}return{openTransaction:t,stakeTokens:a,transactionId:l,transactionError:s,accountData:i,rexInfo:u,rexbal:r,maturedRex:d,liquidBalance:m,symbol:o,inputRules:v,formatDec:p,stake:g,assetToAmount:Ta.sA,setMaxValue:w}}}),Zi=(0,q.Z)(Vi,[["render",Ci],["__scopeId","data-v-1f13247e"]]),Ni=Zi;Z()(Vi,"components",{QCardSection:ue.Z,QIcon:Wa.Z,QTooltip:Va.Z,QInput:fa.Z,QBtn:ne.Z});const zi={class:"staking-form"},Mi={class:"row q-col-gutter-md"},Fi={class:"col-12"},Hi={class:"row"},Ri={class:"row q-pb-sm full-width"},Ui={class:"col-8"},Qi={class:"col-4"},ji={class:"text-weight-bold text-right balance-amount"},Li=(0,n.Uk)("Click to fill full amount"),Ei={class:"row"};function Pi(e,t,a,o,l,s){const i=(0,n.up)("q-icon"),c=(0,n.up)("q-tooltip"),u=(0,n.up)("q-input"),d=(0,n.up)("q-btn"),m=(0,n.up)("ViewTransaction"),v=(0,n.up)("q-card-section");return(0,n.wg)(),(0,n.iD)("div",zi,[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n._)("div",Mi,[(0,n._)("div",Fi,[(0,n._)("div",Hi,[(0,n._)("div",Ri,[(0,n._)("div",Ui,(0,r.zw)(`MATURED ${e.symbol}`),1),(0,n._)("div",Qi,[(0,n._)("div",{class:"row items-center justify-end q-hoverable cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.setMaxValue&&e.setMaxValue(...t))},[(0,n._)("div",ji,(0,r.zw)(e.maxUnlend)+" "+(0,r.zw)(e.symbol),1),(0,n.Wm)(i,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[Li])),_:1})])])]),(0,n.Wm)(u,{ref:"unstakeInput",modelValue:e.unstakeTokens,"onUpdate:modelValue":t[1]||(t[1]=t=>e.unstakeTokens=t),standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:[t=>t>=0&&t<e.assetToAmount(e.maturedRex)||"Invalid amount."],type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",Ei,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Unstake "+e.symbol,flat:"",onClick:e.unstake},null,8,["label","onClick"])])])]),(0,n.Wm)(m,{modelValue:e.openTransaction,"onUpdate:modelValue":t[2]||(t[2]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])),_:1})])}var Bi=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Oi=(0,qa.z)(),$i=(0,n.aZ)({name:"UnstakingTab",components:{ViewTransaction:Bn.Z},setup(){const e=(0,Sa.useStore)();let t=(0,c.iH)(!1);const a=(0,c.iH)(""),o=(0,c.iH)(Oi.getSystemToken().symbol),l=(0,c.iH)(null),s=(0,n.Fl)((()=>e.state.account.TransactionId)),i=(0,n.Fl)((()=>e.state.account.TransactionError)),u=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data})),r=(0,n.Fl)((()=>e.state.account.data.rex_info)),d=(0,n.Fl)((()=>e.state.account.rexbal)),m=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.maturedRex})),v=(0,n.Fl)((()=>(0,Ta.sA)(m.value)-1e-4));function p(){const t=e.state.chain.token.precision;""!==a.value&&(a.value=Number(a.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:t,minimumFractionDigits:t}).replace(/[^0-9.]/g,""))}function g(){return Bi(this,void 0,void 0,(function*(){e.dispatch("account/resetTransaction"),l.value.hasError||(yield e.dispatch("account/unstakeRex",{amount:a.value}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(t.value=!0))}))}function w(){a.value=v.value.toString(),p()}return{openTransaction:t,unstakeTokens:a,unstakeInput:l,transactionId:s,transactionError:i,formatDec:p,unstake:g,assetToAmount:Ta.sA,accountData:u,rexInfo:r,rexbal:d,maturedRex:m,maxUnlend:v,symbol:o,setMaxValue:w}}}),Yi=(0,q.Z)($i,[["render",Pi],["__scopeId","data-v-2c517670"]]),Gi=Yi;Z()($i,"components",{QCardSection:ue.Z,QIcon:Wa.Z,QTooltip:Va.Z,QInput:fa.Z,QBtn:ne.Z});const Ki={class:"q-pt-lg"},Ji={class:"container-refund q-pa-md"},Xi={class:"col-xs-12 col-sm-6"},ec={class:"row q-pa-sm"},tc={class:"col-6"},ac={class:"col-6 text-weight-bold"},nc={class:"col-xs-12 col-sm-6"},oc={class:"row q-pa-sm"},lc=(0,n._)("div",{class:"col-6"},null,-1),sc={class:"col-6 text-weight-bold"},ic={key:0,class:"row full-width"},cc=(0,n._)("div",{class:"col-12"},[(0,n._)("div",{class:"row q-pa-sm"},"No REX transaction history")],-1),uc=[cc];function rc(e,t,a,o,l,s){const i=(0,n.up)("q-separator");return(0,n.wg)(),(0,n.iD)("div",Ki,[(0,n._)("div",Ji,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.rexActions,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.act.data.id,class:"row full-width"},[(0,n._)("div",Xi,[(0,n._)("div",ec,[(0,n._)("div",tc,(0,r.zw)(t.act.name),1),(0,n._)("div",ac,(0,r.zw)(e.getRexHistoryAsset(t.act.data)),1)])]),(0,n._)("div",nc,[(0,n._)("div",oc,[lc,(0,n._)("div",sc,(0,r.zw)(e.formatDate(t.timestamp,!1)),1)])]),(0,n.Wm)(i,{color:"grey-8"})])))),128)),0===e.rexActions.length?((0,n.wg)(),(0,n.iD)("div",ic,uc)):(0,n.kq)("",!0)])])}const dc=(0,n.aZ)({name:"HistoryTab",components:{},setup(){const e=(0,Sa.useStore)(),t=(0,n.Fl)((()=>e.state.account.rexActions));return{store:e,rexActions:t,formatDate:Ta.p6,getRexHistoryAsset:Ta.vE}}}),mc=(0,q.Z)(dc,[["render",rc]]),vc=mc;Z()(dc,"components",{QSeparator:I.Z});const pc={class:"staking-form"},gc={class:"row q-col-gutter-md"},wc={class:"col-12"},hc={class:"row"},fc={class:"row q-pb-sm full-width"},bc=(0,n._)("div",{class:"col-9"},"STAKE TO SAVINGS",-1),yc={class:"col-3"},_c={class:"text-weight-bold text-right balance-amount"},kc=(0,n.Uk)("Any balance currently maturing will be moved first, click to stake full amount"),xc={class:"row"},Tc={class:"col-12"},qc={class:"row"},Sc={class:"row q-pb-sm full-width"},Ic=(0,n._)("div",{class:"col-9"},"UNSTAKE FROM SAVINGS",-1),Dc={class:"col-3"},Cc={class:"text-weight-bold text-right balance-amount"},Ac=(0,n.Uk)("Click to stake full amount"),Wc={class:"row"};function Vc(e,t,a,o,l,s){const i=(0,n.up)("q-icon"),c=(0,n.up)("q-tooltip"),u=(0,n.up)("q-input"),d=(0,n.up)("q-btn"),m=(0,n.up)("q-card-section"),v=(0,n.up)("ViewTransaction");return(0,n.wg)(),(0,n.iD)("div",pc,[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n._)("div",gc,[(0,n._)("div",wc,[(0,n._)("div",hc,[(0,n._)("div",fc,[bc,(0,n._)("div",yc,[(0,n._)("div",{class:"row items-center justify-end q-hoverable cursor-pointer",onClick:t[0]||(t[0]=(...t)=>e.setMaxSavingsValue&&e.setMaxSavingsValue(...t))},[(0,n._)("div",_c,(0,r.zw)(e.formatNumberWithCommas(e.eligibleStaked)),1),(0,n.Wm)(i,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[kc])),_:1})])])]),(0,n.Wm)(u,{modelValue:e.toSavingAmount,"onUpdate:modelValue":t[1]||(t[1]=t=>e.toSavingAmount=t),standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:[t=>t>=0&&t<=e.eligibleStaked||"Invalid amount."],type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",xc,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Move To Savings",flat:"",onClick:e.moveToSavings},null,8,["onClick"])])]),(0,n._)("div",Tc,[(0,n._)("div",qc,[(0,n._)("div",Sc,[Ic,(0,n._)("div",Dc,[(0,n._)("div",{class:"row items-center justify-end q-hoverable cursor-pointer",onClick:t[2]||(t[2]=(...t)=>e.setMaxWithdrawValue&&e.setMaxWithdrawValue(...t))},[(0,n._)("div",Cc,(0,r.zw)(e.rexSavings),1),(0,n.Wm)(i,{class:"q-ml-xs",name:"info"}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[Ac])),_:1})])])]),(0,n.Wm)(u,{modelValue:e.fromSavingAmount,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fromSavingAmount=t),standout:"bg-deep-purple-2 text-white",placeholder:"0","lazy-rules":!0,rules:[t=>t>=0&&t<=e.assetToAmount(e.rexSavings)||"Invalid amount."],type:"text",dense:"",dark:"",onBlur:e.formatDec},null,8,["modelValue","rules","onBlur"])]),(0,n._)("div",Wc,[(0,n.Wm)(d,{class:"full-width button-accent",label:"Withdraw from Savings",flat:"",onClick:e.moveFromSavings},null,8,["onClick"])])])])])),_:1}),(0,n.Wm)(v,{modelValue:e.openTransaction,"onUpdate:modelValue":t[4]||(t[4]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])])}var Zc=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Nc=(0,n.aZ)({name:"SavingsTab",components:{ViewTransaction:Bn.Z},setup(){const e=(0,Sa.useStore)(),t=(0,c.iH)(!1),a=(0,n.Fl)((()=>e.state.account.accountName)),o=(0,c.iH)(""),l=(0,c.iH)(""),s=(0,c.iH)(e.state.account.TransactionId),i=(0,c.iH)(e.state.account.TransactionError),u=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.data})),r=(0,n.Fl)((()=>{var t,a;return(0,Ta.sA)(null===(t=e.state)||void 0===t?void 0:t.account.maturedRex)+(0,Ta.sA)(null===(a=e.state)||void 0===a?void 0:a.account.maturingRex)})),d=(0,n.Fl)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.account.savingsRex}));function m(){""!==o.value&&(o.value=Number(o.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,"")),""!==l.value&&(l.value=Number(l.value).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:e.state.chain.token.precision,minimumFractionDigits:e.state.chain.token.precision}).replace(/[^0-9.]/g,""))}function v(){return Zc(this,void 0,void 0,(function*(){e.dispatch("account/resetTransaction"),"0"===o.value||""===o.value||Number(o.value)>r.value||(yield e.dispatch("account/moveToSavings",{amount:o.value||"0"}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(t.value=!0))}))}function p(){return Zc(this,void 0,void 0,(function*(){e.dispatch("account/resetTransaction"),"0"===l.value||""===l.value||Number(l.value)>=(0,Ta.sA)(d.value)||(yield e.dispatch("account/moveFromSavings",{amount:l.value||"0"}),"cleos"!==localStorage.getItem("autoLogin_"+(0,qa.z)().getChainId())&&(t.value=!0))}))}function g(){o.value=r.value.toString(),m()}function w(){l.value=(0,Ta.sA)(d.value).toString(),m()}return{openTransaction:t,stakingAccount:a,accountData:u,toSavingAmount:o,fromSavingAmount:l,eligibleStaked:r,rexSavings:d,transactionId:s,transactionError:i,formatNumberWithCommas:Ta.pw,formatDec:m,moveToSavings:v,moveFromSavings:p,assetToAmount:Ta.sA,setMaxSavingsValue:g,setMaxWithdrawValue:w}}}),zc=(0,q.Z)(Nc,[["render",Vc]]),Mc=zc;Z()(Nc,"components",{QCardSection:ue.Z,QIcon:Wa.Z,QTooltip:Va.Z,QInput:fa.Z,QBtn:ne.Z,QField:So.Z});var Fc=a(17779),Hc=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Rc=(0,qa.z)().getSystemToken().symbol,Uc=(0,n.aZ)({name:"StakingDialog",components:{StakingInfo:Fs,StakeFromResources:ni,ProcessingTab:fi,StakingTab:Ni,UnstakingTab:Gi,HistoryTab:vc,SavingsTab:Mc},data(){return{sendToken:{symbol:Rc,precision:4,amount:0,contract:"eosio.token"},sendDialog:!1,apy:"--"}},props:{availableTokens:{type:Array,required:!0}},setup(){const e=(0,Sa.useStore)(),t=(0,n.Fl)((()=>e.state.account.rexfund||0)),a=(0,n.Fl)((()=>e.state.chain.token.symbol)),o=(0,c.iH)(null),l=(0,c.iH)(null),s=()=>Hc(this,void 0,void 0,(function*(){yield e.dispatch("account/unstakeRexFund",{amount:t.value}),e.dispatch("account/updateRexData",{account:e.state.account.accountName})})),i=(0,n.Fl)((()=>(0,Ta.xG)(t.value,4,a.value)));return Object.assign({openCoinDialog:(0,c.iH)(!1),recievingAccount:(0,c.iH)(""),sendAmount:(0,c.iH)("0"),memo:(0,c.iH)(""),tab:(0,c.iH)("stake"),rexfund:t,symbol:a,transactionError:l,transactionId:o,withdrawRexFund:s,prettyRexFund:i},(0,Pn.nv)({sendAction:"account/sendAction"}))},computed:Object.assign(Object.assign({},(0,Pn.Se)({account:"account/accountName"})),{transactionForm(){return!(this.transactionError||this.transactionId)}}),methods:{sendTransaction(){return Hc(this,void 0,void 0,(function*(){const e=this.sendToken.contract,t={from:this.account,to:this.recievingAccount,quantity:`${this.sendAmount} ${this.sendToken.symbol}`,memo:this.memo};try{this.transactionId=(yield this.sendAction({account:e,data:t,name:"transfer"})).transactionId}catch(a){this.transactionError=a}}))},setDefaults(){this.availableTokens.length>0&&(this.sendToken=this.availableTokens.find((e=>e.symbol===this.sendToken.symbol)))},updateSelectedCoin(e){this.sendToken=e},navToTransaction(){return Hc(this,void 0,void 0,(function*(){yield this.$router.push({name:"transaction",params:{transaction:this.transactionId}}),this.$router.go(0)}))},loadAccountData(){return Hc(this,void 0,void 0,(function*(){let e;try{e=yield this.$api.getAccount(this.account),this.$store.commit("account/setAccountData",e)}catch(t){return}}))}},mounted(){return Hc(this,void 0,void 0,(function*(){try{const e=yield this.$api.getApy();this.apy=`${e}%`}catch(e){Fc.error(e)}yield this.loadAccountData()}))}}),Qc=(0,q.Z)(Uc,[["render",ds],["__scopeId","data-v-17b7ca54"]]),jc=Qc;Z()(Uc,"components",{QDialog:ha.Z,QCard:D.Z,QBtn:ne.Z,QTabs:Bl.Z,QTab:Ol.Z,QSeparator:I.Z,QTabPanels:$l.Z,QTabPanel:Yl.Z}),Z()(Uc,"directives",{ClosePopup:_a.Z});var Lc=a(97114),Ec=a(54170),Pc=a(17779),Bc=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Oc=(0,qa.z)(),$c=(0,n.aZ)({name:"AccountCard",components:{PercentCircle:ft,SendDialog:Na,ResourcesDialog:Kl,DateField:Lc.Z,StakingDialog:jc},props:{account:{type:String,required:!0}},setup(e){const t=(0,X.Z)(),a=(0,Ia.tv)(),o=(0,ot.p)(),l=(0,n.Fl)((()=>qa.Z.get().getCurrentChain().getUiCustomization().accountPageSettings)),s=(0,c.iH)("2019-01-01T00:00:00.000"),i=(0,c.iH)(""),u=(0,c.iH)(""),r=(0,c.iH)("eosio"),d=(0,c.iH)(!0),m=(0,c.iH)(!0),v=(0,c.iH)(te.UInt64.from(0)),p=(0,c.iH)("kb"),g=(0,c.iH)("kb"),w=(0,c.iH)(0),h=(0,c.iH)(0),f=(0,n.Fl)((()=>o.resources.getDelegatedToOthersAggregated())),b=(0,c.iH)(0),y=(0,c.iH)(0),_=(0,c.iH)(0),x=(0,n.Fl)((()=>b.value+y.value+_.value)),T=(0,c.iH)(),q=(0,c.iH)(0),S=(0,c.iH)(0),I=(0,c.iH)(0),D=(0,c.iH)(0),C=(0,c.iH)(""),A=(0,c.iH)(0),W=(0,c.iH)(0),V=(0,c.iH)(0),Z=(0,c.iH)(0),N=(0,c.iH)(44),z=(0,c.iH)(0),M=(0,c.iH)(!0),F=(0,c.iH)(!1),H=(0,c.iH)(!1),R=(0,c.iH)(!1),U=(0,c.iH)(),Q=(0,c.iH)([]),j=(0,n.Fl)((()=>{var e,t,a,n,o,l;return(null!==(a=null===(t=null===(e=U.value)||void 0===e?void 0:e.refund_request)||void 0===t?void 0:t.cpu_amount.value)&&void 0!==a?a:0)+(null!==(l=null===(o=null===(n=U.value)||void 0===n?void 0:n.refund_request)||void 0===o?void 0:o.net_amount.value)&&void 0!==l?l:0)})),L=(0,n.Fl)((()=>j.value+S.value+q.value)),E=(0,n.Fl)((()=>o.state.chain.token)),P=(0,n.Fl)((()=>{var e,t;return(null===(t=null===(e=U.value)||void 0===e?void 0:e.core_liquid_balance)||void 0===t?void 0:t.value)?U.value.core_liquid_balance.value:0})),B=(0,n.Fl)((()=>"number"===typeof C.value?T.value*C.value:0)),O=(0,n.Fl)((()=>{var e,t;let a="";const n=(0,Ta.xG)(null!==(e=B.value)&&void 0!==e?e:0,2),o=(0,Ta.xG)(null!==(t=T.value)&&void 0!==t?t:0,4);return B.value&&T.value&&(a=`$${n} (@ $${o}/${Oc.getSystemToken().symbol})`),a})),$=(0,n.Fl)((()=>o.state.account.accountName===e.account)),Y=(0,n.Fl)((()=>Ec.ZP.formatDate(s.value,"DD MMMM YYYY @ hh:mm A"))),G=e=>{o.commit("chain/setToken",e)},K=()=>Bc(this,void 0,void 0,(function*(){try{d.value=!0,U.value=yield k.h.getAccount(e.account),yield ne(),J(),yield ae(),yield oe({account:e.account,force:!0})}catch(a){return t.notify(`account ${e.account} not found!`),void(M.value=!1)}})),J=()=>{C.value=P.value+x.value+L.value+f.value,d.value=!1},ae=()=>Bc(this,void 0,void 0,(function*(){m.value=!0,Q.value=yield k.h.getTokens(e.account),m.value=!1})),ne=()=>Bc(this,void 0,void 0,(function*(){try{const t=yield k.h.getCreator(e.account);u.value=t.creator,s.value=t.timestamp,i.value=t.trx_id}catch(a){t.notify(`creator account for ${e.account} not found!`)}})),oe=e=>o.resources.updateResources(e),le=e=>Math.abs(parseFloat(e.toFixed(3))),se=()=>{""===E.value.symbol&&G(Oc.getSystemToken())},ie=()=>Bc(this,void 0,void 0,(function*(){yield a.push({name:"account",params:{account:u.value}}),a.go(0)})),ce=()=>Bc(this,void 0,void 0,(function*(){yield a.push({name:"transaction",params:{transaction:i.value}}),a.go(0)})),ue=e=>{(0,ee.Z)(e).then((()=>{t.notify({color:"green-4",textColor:"white",message:"Copied to clipboard",timeout:1e3})})).catch((()=>{t.notify({color:"red-8",textColor:"white",message:"Could not copy",timeout:1e3})}))},re=e=>"undefined"===typeof e?"--":(Pc.assert("number"===typeof e||"string"===typeof e,e),"string"===typeof e?e:(0,Ta.xG)(e,4,Oc.getSystemToken().symbol)),de=()=>{C.value="--",z.value=h.value=0,b.value=0,_.value=0};return(0,n.bv)((()=>Bc(this,void 0,void 0,(function*(){T.value=yield Oc.getUsdPrice(),yield K(),yield o.dispatch("account/updateRexData",{account:e.account}),se(),o.dispatch("chain/updateRamPrice")})))),(0,n.YP)((()=>e.account),(()=>Bc(this,void 0,void 0,(function*(){de(),yield K(),yield o.dispatch("account/updateRexData",{account:e.account})})))),(0,n.YP)((()=>o.resources.getDelegatedToOthersAggregated()),(()=>{J()})),{accountPageSettings:l,netUnit:p,ramUnit:g,stakedCPU:q,stakedNET:S,cpu_used:I,cpu_max:D,net_used:A,net_max:W,ram_used:V,ram_max:Z,creatingAccount:u,isLoading:d,tokensLoading:m,liquidNative:P,stakedRefund:j,totalTokens:C,totalValue:B,totalValueString:O,rex:x,rexStaked:b,rexDeposits:_,none:v,system_account:r,radius:N,availableTokens:Q,createTime:s,createTransaction:i,openSendDialog:F,openResourcesDialog:H,openStakingDialog:R,delegatedByOthers:h,delegatedToOthers:f,isAccount:$,token:E,createTimeFormat:Y,resources:w,accountExists:M,loadAccountData:K,setToken:G,fixDec:le,loadSystemToken:se,loadCreatorAccount:ie,loadCreatorTransaction:ce,copy:ue,formatAsset:re,updateTokenBalances:ae}}});var Yc=a(66933),Gc=a(82429);const Kc=(0,q.Z)($c,[["render",nt],["__scopeId","data-v-cc1b473a"]]),Jc=Kc;Z()($c,"components",{QCard:D.Z,QCardSection:ue.Z,QBtn:ne.Z,QTooltip:Va.Z,QIcon:Wa.Z,QSpace:S.Z,QMarkupTable:Yc.Z,QTable:Gc.Z});const Xc={class:"row"},eu=(0,n._)("div",{class:"col-12 q-py-md"},[(0,n._)("div",{class:"text-h5"},"Contract Details")],-1),tu={class:"col-12"};function au(e,t,a,o,l,s){const i=(0,n.up)("q-tab"),c=(0,n.up)("q-tabs"),u=(0,n.up)("ContractTables"),r=(0,n.up)("q-tab-panel"),d=(0,n.up)("ContractActions"),m=(0,n.up)("JsonViewer"),v=(0,n.up)("q-card-section"),p=(0,n.up)("q-card"),g=(0,n.up)("q-tab-panels");return(0,n.wg)(),(0,n.iD)("div",Xc,[eu,(0,n._)("div",tu,[(0,n.Wm)(c,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),"no-caps":"",align:"left",breakpoint:0},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{name:"tables",label:"Tables"}),(0,n.Wm)(i,{name:"actions",label:"Actions"}),(0,n.Wm)(i,{name:"abi",label:"ABI"})])),_:1},8,["modelValue"]),(0,n.Wm)(g,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"col-12"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"tables"},{default:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1}),(0,n.Wm)(r,{name:"actions"},{default:(0,n.w5)((()=>[(0,n.Wm)(d)])),_:1}),(0,n.Wm)(r,{name:"abi"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{flat:"",class:"card--light-bg"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{value:e.abi,"expand-depth":5,"preview-mode":"preview-mode",boxed:"boxed",copyable:"copyable",sort:"sort"},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])}var nu=a(61957);const ou=(0,n._)("div",{class:"q-pb-sm text-subtitle2 text-bold"},"Select table",-1),lu={class:"row justify-content full-width"},su={class:"col-10"},iu={class:"col-2 q-pl-md"},cu={class:"row q-py-md q-col-gutter-md"},uu={class:"col-xs-6 col-sm-3"},ru=(0,n._)("div",{class:"text-bold q-pb-sm"},"Scope",-1),du={class:"col-xs-6 col-sm-3"},mu=(0,n._)("div",{class:"text-bold q-pb-sm"},"Lower Bound",-1),vu={class:"col-xs-6 col-sm-3"},pu=(0,n._)("div",{class:"text-bold q-pb-sm"},"Upper Bound",-1),gu={class:"col-xs-6 col-sm-3"},wu=(0,n._)("div",{class:"text-bold q-pb-sm"},"Limit",-1),hu={key:0,class:"row full-width justify-center q-py-md q-px-xl"},fu=(0,n.Uk)("Show more");function bu(e,t,a,o,l,s){const i=(0,n.up)("q-select"),c=(0,n.up)("q-btn"),u=(0,n.up)("q-card-section"),r=(0,n.up)("q-input"),d=(0,n.up)("q-table"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(m,{class:"card--light-bg",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"q-pl-md section--light-bg"},{default:(0,n.w5)((()=>[ou,(0,n._)("div",lu,[(0,n._)("div",su,[(0,n.Wm)(i,{outlined:"","onUpdate:modelValue":[e.updateRows,t[0]||(t[0]=t=>e.table=t)],dense:"",modelValue:e.table,options:e.options,color:"primary",class:"bg-white"},null,8,["onUpdate:modelValue","modelValue","options"])]),(0,n._)("div",iu,[(0,n.Wm)(c,{class:"full-width",unelevated:"",color:"primary",label:"Refresh",size:"15px",onClick:e.getRows},null,8,["onClick"])])])])),_:1}),(0,n.Wm)(u,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n._)("div",cu,[(0,n._)("div",uu,[ru,(0,n.Wm)(r,{outlined:"",onKeydown:(0,nu.D2)((0,nu.iM)(e.getRows,["prevent"]),["enter"]),onBlur:e.getRows,dense:"",modelValue:e.scope,"onUpdate:modelValue":t[1]||(t[1]=t=>e.scope=t),class:"bg-white"},null,8,["onKeydown","onBlur","modelValue"])]),(0,n._)("div",du,[mu,(0,n.Wm)(r,{outlined:"",onKeydown:(0,nu.D2)((0,nu.iM)(e.getRows,["prevent"]),["enter"]),onBlur:e.getRows,modelValue:e.lower,"onUpdate:modelValue":t[2]||(t[2]=t=>e.lower=t),dense:"",class:"bg-white"},null,8,["onKeydown","onBlur","modelValue"])]),(0,n._)("div",vu,[pu,(0,n.Wm)(r,{outlined:"",onKeydown:(0,nu.D2)((0,nu.iM)(e.getRows,["prevent"]),["enter"]),onBlur:e.getRows,modelValue:e.upper,"onUpdate:modelValue":t[3]||(t[3]=t=>e.upper=t),dense:"",class:"bg-white"},null,8,["onKeydown","onBlur","modelValue"])]),(0,n._)("div",gu,[wu,(0,n.Wm)(r,{outlined:"",onKeydown:(0,nu.D2)((0,nu.iM)(e.getRows,["prevent"]),["enter"]),onBlur:e.getRows,modelValue:e.limit,"onUpdate:modelValue":t[4]||(t[4]=t=>e.limit=t),dense:"",class:"bg-white"},null,8,["onKeydown","onBlur","modelValue"])])])])),_:1}),(0,n.Wm)(u,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{rows:e.rows,"row-key":e.rows[0]?e.rows[0][0]:"","rows-per-page-options":[0]},{bottom:(0,n.w5)((()=>[e.canShowMore?((0,n.wg)(),(0,n.iD)("div",hu,[e.isMoreRows?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"q-ml-xs q-mr-xs col button-primary",onClick:e.showMore},{default:(0,n.w5)((()=>[fu])),_:1},8,["onClick"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])),_:1},8,["rows","row-key"])])),_:1})])),_:1})}var yu=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const _u=(0,n.aZ)({name:"ContractTables",setup(){const e=(0,Sa.useStore)(),t=(0,n.Fl)((()=>e.state.account.abi.abi.tables.map((e=>e.name)))),a=(0,n.Fl)((()=>e.state.account.abi.account_name)),o=(0,c.iH)(t.value[0]),l=(0,c.iH)(e.state.account.abi.account_name),s=(0,c.iH)(null),i=(0,c.iH)(null),u=(0,c.iH)("20"),r=(0,c.iH)({sortBy:"timestamp",descending:!0,page:1,rowsPerPage:Number(u.value)||10}),d=(0,c.iH)([]),m=(0,n.Fl)((()=>d.value.length>=Number(u.value))),v=(0,n.Fl)((()=>Number(u.value)>=d.value.length));function p(){return yu(this,void 0,void 0,(function*(){const e={code:a.value,limit:u.value,lower_bound:s.value,scope:l.value,table:o.value,json:!0,key_type:"i64",upper_bound:i.value};let t=(yield k.h.getTableRows(e)).rows;t=t.map((e=>h(e))),d.value=t}))}function g(e){return yu(this,void 0,void 0,(function*(){const t={code:a.value,limit:u.value,lower_bound:s.value,scope:l.value,table:e,json:!0,key_type:"i64",upper_bound:i.value};let n=(yield k.h.getTableRows(t)).rows;n=n.map((e=>h(e))),d.value=n}))}function w(){return yu(this,void 0,void 0,(function*(){u.value=(Number(u.value)+Number(u.value)).toString(),yield p()}))}function h(e){var t={};for(let a in e)e[a]instanceof Object?t[a]=JSON.stringify(e[a]):t[a]=e[a];return t}return(0,n.bv)((()=>yu(this,void 0,void 0,(function*(){yield p()})))),{table:o,options:t,scope:l,lower:s,upper:i,limit:u,rows:d,getRows:p,pagination:r,updateRows:g,showMore:w,canShowMore:v,isMoreRows:m}}}),ku=(0,q.Z)(_u,[["render",bu]]),xu=ku;Z()(_u,"components",{QCard:D.Z,QCardSection:ue.Z,QSelect:To.Z,QBtn:ne.Z,QInput:fa.Z,QTable:Gc.Z});const Tu=(0,n._)("div",{class:"q-pb-sm text-subtitle2 text-bold"},"Select action",-1),qu={class:"row justify-content full-width"},Su={class:"col-xs-8 col-sm-10"},Iu={class:"col-xs-4 col-sm-2 q-pl-md"},Du={class:"row q-py-md q-col-gutter-md"},Cu={class:"text-bold q-pb-sm"},Au={class:"col-xs-6 col-sm-3"},Wu=(0,n._)("div",{class:"text-bold q-pb-sm"},"actor",-1),Vu={class:"col-xs-6 col-sm-3"},Zu=(0,n._)("div",{class:"text-bold q-pb-sm"},"permission",-1);function Nu(e,t,a,o,l,s){const i=(0,n.up)("q-select"),c=(0,n.up)("q-btn"),u=(0,n.up)("q-card-section"),d=(0,n.up)("q-input"),m=(0,n.up)("q-card"),v=(0,n.up)("ViewTransaction");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(m,{class:"card--light-bg",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"q-pl-md section--light-bg"},{default:(0,n.w5)((()=>[Tu,(0,n._)("div",qu,[(0,n._)("div",Su,[(0,n.Wm)(i,{modelValue:e.action,"onUpdate:modelValue":t[0]||(t[0]=t=>e.action=t),outlined:"",dense:"",options:e.actions,color:"primary",class:"bg-white"},null,8,["modelValue","options"])]),(0,n._)("div",Iu,[(0,n.Wm)(c,{class:"full-width",unelevated:"",color:"primary",label:"Push transaction",size:"15px",onClick:e.signAction},null,8,["onClick"])])])])),_:1}),(0,n.Wm)(u,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n._)("div",Du,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.fields,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.name,class:"col-xs-6 col-sm-3"},[(0,n._)("div",Cu,(0,r.zw)(t.name),1),(0,n.Wm)(d,{modelValue:e.memo[t.name],"onUpdate:modelValue":a=>e.memo[t.name]=a,outlined:"",dense:"",placeholder:t.type,class:"bg-white",onBlur:e.formatMemo},null,8,["modelValue","onUpdate:modelValue","placeholder","onBlur"])])))),128)),(0,n._)("div",Au,[Wu,(0,n.Wm)(d,{modelValue:e.actor,"onUpdate:modelValue":t[1]||(t[1]=t=>e.actor=t),outlined:"",dense:"",class:"bg-white"},null,8,["modelValue"])]),(0,n._)("div",Vu,[Zu,(0,n.Wm)(d,{modelValue:e.permission,"onUpdate:modelValue":t[2]||(t[2]=t=>e.permission=t),outlined:"",dense:"",class:"bg-white"},null,8,["modelValue"])])])])),_:1})])),_:1}),(0,n.Wm)(v,{modelValue:e.openTransaction,"onUpdate:modelValue":t[3]||(t[3]=t=>e.openTransaction=t),transactionId:e.transactionId,transactionError:e.transactionError||"",message:"transaction complete"},null,8,["modelValue","transactionId","transactionError"])],64)}var zu=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Mu=(0,n.aZ)({name:"ContractActions",components:{ViewTransaction:Bn.Z},setup(){const e=(0,c.iH)({}),t=(0,c.iH)(""),a=(0,Sa.useStore)(),o=(0,c.iH)(""),l=(0,c.iH)(!1),s=(0,c.iH)(a.state.account.TransactionId),i=(0,c.iH)(a.state.account.TransactionError),u=(0,n.Fl)((()=>a.state.account.abi.abi.actions.map((e=>e.name)))),r=(0,c.iH)(u.value[0]),d=(0,n.Fl)((()=>a.state.account.abi.abi.structs.find((e=>e.name===r.value)).fields));function m(){return zu(this,void 0,void 0,(function*(){yield a.dispatch("account/sendAction",{name:r.value,actor:o.value,permission:t.value,data:e.value}),l.value=!0}))}function v(){for(let t in e.value){const a=d.value.find((e=>e.name===t));"bool"===a.type&&("true"===e.value[t]||"1"===e.value[t]||"True"===e.value[t]||"T"===e.value[t]||"t"===e.value[t]?e.value[t]=!0:e.value[t]=!1)}}return(0,n.bv)((()=>zu(this,void 0,void 0,(function*(){o.value=yield a.state.account.user.getAccountName(),t.value=a.state.account.accountPermission})))),{action:r,actions:u,fields:d,memo:e,signAction:m,actor:o,permission:t,openTransaction:l,transactionId:s,transactionError:i,formatMemo:v}}}),Fu=(0,q.Z)(Mu,[["render",Nu]]),Hu=Fu;Z()(Mu,"components",{QCard:D.Z,QCardSection:ue.Z,QSelect:To.Z,QBtn:ne.Z,QInput:fa.Z});var Ru=a(18803),Uu=a.n(Ru);const Qu=(0,n.aZ)({name:"ContractTabs",setup(){const e=(0,Sa.useStore)(),t=(0,Ia.yj)(),a=(0,Ia.tv)(),o=(0,c.iH)(t.query["tab1"]||"tables"),l=(0,n.Fl)((()=>e.state.account.abi));return(0,n.YP)([o],(()=>{let e=Object.assign({},t.query);e["tab1"]=o.value,a.push({path:a.currentRoute.value.path,query:e})})),{tab:o,abi:l}},components:{ContractTables:xu,ContractActions:Hu,JsonViewer:Uu()}}),ju=(0,q.Z)(Qu,[["render",au]]),Lu=ju;Z()(Qu,"components",{QTabs:Bl.Z,QTab:Ol.Z,QTabPanels:$l.Z,QTabPanel:Yl.Z,QCard:D.Z,QCardSection:ue.Z});var Eu=a(22231),Pu=a(17779),Bu=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const Ou={class:"row col-12 q-my-xs justify-center text-left container-max-width"},$u={class:"row col-11"},Yu={class:"row col-12 q-mt-lg"},Gu=(0,n._)("div",null,[(0,n._)("p",{class:"panel-title"},"Votes for Block Producers")],-1),Ku={class:"info-wrap"},Ju={class:"row voted-producers q-pa-md"},Xu={key:0,class:"producers-list"},er=["href"],tr=(0,n.aZ)({props:{account:{type:String,required:!0}},setup(e){const t=e,a=(0,c.iH)([]);return(0,n.wF)((()=>Bu(this,void 0,void 0,(function*(){try{const{account:{voter_info:{producers:e}}}=yield(0,Eu.V6)(t.account);a.value=e}catch(e){Pu.error(e)}})))),(e,t)=>{const o=(0,n.up)("q-space"),l=(0,n.up)("q-separator");return(0,n.wg)(),(0,n.iD)("div",Ou,[(0,n._)("div",$u,[(0,n._)("div",Yu,[Gu,(0,n.Wm)(o)]),(0,n.Wm)(l,{class:"row col-12 q-mt-md separator"}),(0,n._)("div",Ku,[(0,n._)("div",Ju,[(0,n._)("p",null,"Currently voting for the "+(0,r.zw)(a.value.length)+" out of 30 possible block producers:",1),a.value.length?((0,n.wg)(),(0,n.iD)("div",Xu,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,(e=>((0,n.wg)(),(0,n.iD)("span",{key:e,class:"producer-name"},[(0,n._)("a",{href:`/account/${e}`},(0,r.zw)(e),9,er)])))),128))])):(0,n.kq)("",!0)])])])])}}});var ar=a(77741);const nr=tr,or=nr;Z()(tr,"components",{QSpace:S.Z,QSeparator:I.Z,QColor:ar.Z});var lr=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function s(e){try{c(n.next(e))}catch(t){l(t)}}function i(e){try{c(n["throw"](e))}catch(t){l(t)}}function c(e){e.done?a(e.value):o(e.value).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const sr=(0,n.aZ)({name:"AccountPage",components:{TransactionsTable:u.Z,TokensPanel:z,KeysPanel:ge,ChildrenPanel:Se,AccountCard:Jc,ContractTabs:Lu,BpVotes:or},setup(){const e=(0,Sa.useStore)(),t=(0,Ia.yj)(),a=(0,Ia.tv)(),o=(0,n.Fl)((()=>qa.Z.get().getCurrentChain().getUiCustomization().accountPageSettings)),l=(0,c.iH)(t.query["tab"]||"transactions"),s=(0,n.Fl)((()=>t.params.account||"")),i=(0,n.Fl)((()=>e.state.account.abi.abi)),u=(0,c.iH)(k.h.getTokens(s.value));return(0,n.bv)((()=>lr(this,void 0,void 0,(function*(){yield e.dispatch("account/updateABI",t.params.account)})))),(0,n.YP)([l],(()=>{a.push({path:a.currentRoute.value.path,query:{tab:l.value}})})),{tab:l,account:s,abi:i,tokenList:u,accountPageSettings:o}}}),ir=(0,q.Z)(sr,[["render",i]]),cr=ir;Z()(sr,"components",{QTabs:Bl.Z,QTab:Ol.Z,QTabPanels:$l.Z,QTabPanel:Yl.Z})},48048:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQiIGhlaWdodD0iNDQiIHZpZXdCb3g9IjAgMCA0NCA0NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iNCIgeT0iMTIiIHdpZHRoPSIzNiIgaGVpZ2h0PSIyMCIgcng9IjciIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNMTYgMThIMTRDMTIuODk1NCAxOCAxMiAxOC44OTU0IDEyIDIwVjI0QzEyIDI1LjEwNDYgMTIuODk1NCAyNiAxNCAyNkgxNiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTI3IDE4TDI3IDI0QzI3IDI1LjEwNDYgMjcuODk1NCAyNiAyOSAyNkwzMCAyNkMzMS4xMDQ2IDI2IDMyIDI1LjEwNDYgMzIgMjRMMzIgMTgiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yMCAyMS43ODk1SDIyLjEwNTNDMjMuMTUxNyAyMS43ODk1IDI0IDIwLjk0MTIgMjQgMTkuODk0N1YxOS44OTQ3QzI0IDE4Ljg0ODMgMjMuMTUxNyAxOCAyMi4xMDUzIDE4SDE5VjI2IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIgMzJWMzQuNTcxNEMxMiAzNS4zNjA0IDEyLjYzOTYgMzYgMTMuNDI4NiAzNlYzNkMxNC4yMTc1IDM2IDE0Ljg1NzEgMzUuMzYwNCAxNC44NTcxIDM0LjU3MTRWMzIiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yMC41NzE0IDMyVjM0LjU3MTRDMjAuNTcxNCAzNS4zNjA0IDIxLjIxMSAzNiAyMiAzNlYzNkMyMi43ODkgMzYgMjMuNDI4NiAzNS4zNjA0IDIzLjQyODYgMzQuNTcxNFYzMiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTI5LjE0MjkgMzJWMzQuNTcxNEMyOS4xNDI5IDM1LjM2MDQgMjkuNzgyNSAzNiAzMC41NzE1IDM2VjM2QzMxLjM2MDQgMzYgMzIgMzUuMzYwNCAzMiAzNC41NzE0VjMyIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIgMTJWOS40Mjg1N0MxMiA4LjYzOTU5IDEyLjYzOTYgOCAxMy40Mjg2IDhWOEMxNC4yMTc1IDggMTQuODU3MSA4LjYzOTU5IDE0Ljg1NzEgOS40Mjg1N1YxMiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTIwLjU3MTQgMTJWOS40Mjg1N0MyMC41NzE0IDguNjM5NTkgMjEuMjExIDggMjIgOFY4QzIyLjc4OSA4IDIzLjQyODYgOC42Mzk1OSAyMy40Mjg2IDkuNDI4NTdWMTIiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yOS4xNDI5IDEyVjkuNDI4NTdDMjkuMTQyOSA4LjYzOTU5IDI5Ljc4MjUgOCAzMC41NzE1IDhWOEMzMS4zNjA0IDggMzIgOC42Mzk1OSAzMiA5LjQyODU3VjEyIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"}}]);